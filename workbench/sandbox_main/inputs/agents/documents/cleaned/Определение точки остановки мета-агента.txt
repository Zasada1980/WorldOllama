Принципиальные Критерии Остановки для Мета-Агентного Поиска в Автоматизированном Проектировании Агентных Систем




Раздел 1: Проблема Завершения в Эволюционном Проектировании Агентов




1.1. Парадигма ADAS и Мета-Агентный Поиск


Автоматизированное проектирование агентных систем (ADAS) представляет собой новую и быстро развивающуюся область исследований, целью которой является автоматическое создание мощных и эффективных архитектур агентных систем.1 Вместо ручного проектирования, которое исторически доминировало в машинном обучении и в конечном итоге уступало место выученным решениям, ADAS стремится автоматизировать открытие как новых фундаментальных компонентов («строительных блоков»), так и способов их комбинирования.3
Центральным элементом этой парадигмы является алгоритм «Мета-Агентного Поиска» (Meta Agent Search). В рамках этого подхода «мета-агент», обычно управляемый мощной большой языковой моделью (LLM), итеративно выполняет цикл разработки: он программирует новых агентов в виде кода, тестирует их производительность на целевых задачах, добавляет успешные варианты в постоянно растущий архив обнаруженных агентов и использует этот архив для информирования последующих итераций генерации.2 Этот процесс продемонстрировал впечатляющую эффективность, создавая агентов, которые значительно превосходят аналоги, спроектированные вручную, в таких областях, как программирование, научные исследования и математика.2
Однако, несмотря на доказанную состоятельность, основополагающие работы по ADAS концентрируются на демонстрации самой возможности и эффективности парадигмы, но в значительной степени обходят стороной критически важный вопрос: когда следует останавливать этот итеративный процесс? Анализ общедоступных репозиториев кода, связанных с ADAS, подтверждает, что в реализациях отсутствуют продвинутые критерии остановки, выходящие за рамки простого ограничения на количество итераций.6 Это упущение представляет собой серьезный пробел, который необходимо устранить для перехода ADAS от стадии академического доказательства концепции к практическому и ресурсоэффективному инженерному инструменту. Сама природа ADAS, использующая в качестве пространства поиска Тьюринг-полные языки программирования, создает эту проблему.2 Неограниченное пространство поиска означает отсутствие естественной конечной точки; невозможно просто перебрать все варианты. Следовательно, потребность в динамических, основанных на производительности критериях остановки является не случайным, а фундаментальным свойством парадигмы ADAS.


1.2. Аналогия с Эволюционными Вычислениями


Процесс, лежащий в основе Мета-Агентного Поиска, имеет глубокую и формальную аналогию с областью эволюционных вычислений (Evolutionary Algorithms, EA).8 Генерация нового кода агента мета-агентом функционально эквивалентна эволюционным операторам мутации и кроссовера, которые вносят изменения в генотип индивидов.9 Архив обнаруженных агентов действует как «популяция», а метрика производительности, используемая для оценки каждого нового агента, является «функцией приспособленности» (fitness function).
Эта аналогия позволяет нам импортировать десятилетия исследований из области EA для анализа динамики ADAS. Процесс поиска можно рассматривать как движение по «ландшафту приспособленности» (fitness landscape), где каждая точка представляет собой возможную архитектуру агента, а высота точки — ее производительность.11 В этом контексте итеративный поиск мета-агента представляет собой постепенное восхождение по этому ландшафту. Однако, как и в классических EA, существует постоянный риск преждевременной сходимости или попадания в «локальный оптимум» — пик производительности, который не является глобально наилучшим решением. Основная задача критерия остановки, таким образом, заключается в том, чтобы отличить продуктивную фазу исследования ландшафта от состояния стагнации, когда дальнейшие итерации лишь незначительно изменяют текущее решение, не приводя к существенным улучшениям. Более того, решение этой проблемы имеет значение, выходящее за рамки экономии вычислительных ресурсов. Разработка принципиальных критериев остановки является необходимым шагом для научной зрелости самой области ADAS. Без стандартизированных протоколов завершения поиска сравнение результатов, полученных разными методами ADAS, становится некорректным — это «сравнение яблок с броненосцами» 12, поскольку лучший результат одного метода может быть просто следствием большего времени работы. Таким образом, создание надежных критериев остановки — это залог воспроизводимости и справедливого научного сравнения.


1.3. Определение Убывающей Отдачи и Компромисс между Затратами и Качеством


Центральная проблема, поставленная в запросе, — «убывающая отдача» — является прямым следствием компромисса между исследованием (exploration) и эксплуатацией (exploitation), фундаментального для всех поисковых алгоритмов.13 Каждая итерация Мета-Агентного Поиска сопряжена со значительными вычислительными затратами: вызовы API к мощным LLM, выполнение и тестирование сгенерированного кода, обновление архива. Цель состоит в том, чтобы прекратить поиск в «точке перегиба кривой», где ожидаемый прирост производительности от следующей итерации становится меньше, чем стоимость ее выполнения.
Задача заключается в переходе от произвольных, детерминированных условий остановки (например, «выполнить 100 итераций») к интеллектуальному, адаптивному процессу принятия решений, который динамически балансирует качество решения и вычислительные затраты.14 Идеальный критерий остановки должен быть способен в режиме реального времени (online) анализировать траекторию производительности и делать статистически обоснованный вывод о том, исчерпал ли процесс поиска свой потенциал. Это требует формализации понятия «статистически значимого улучшения» и разработки методологий для его обнаружения.


Раздел 2: Таксономия Стратегий Завершения


Стратегии определения точки остановки можно систематизировать, опираясь на богатый опыт из области эволюционных алгоритмов (EA) 15 и смежной дисциплины — поиска нейросетевых архитектур (Neural Architecture Search, NAS).17 Эти стратегии можно разделить на несколько категорий, от простых детерминированных правил до сложных адаптивных и теоретически обоснованных подходов.


2.1. Детерминированные (Бюджетные) Критерии


Это самый простой и распространенный класс критериев, основанный на предварительно заданных ограничениях ресурсов. Их главное преимущество — предсказуемость, а недостаток — полная нечувствительность к динамике процесса оптимизации.
* Максимальное число поколений/итераций: Алгоритм останавливается после выполнения фиксированного числа циклов генерации и оценки.14 Этот подход широко используется в академических исследованиях, поскольку позволяет легко контролировать и воспроизводить эксперименты, но он не гарантирует, что к моменту остановки был достигнут оптимальный или близкий к нему результат.
* Максимальное число оценок функции/лимит времени: Остановка происходит, когда исчерпан общий вычислительный бюджет, выраженный либо в количестве вызовов функции оценки (что в контексте ADAS эквивалентно числу протестированных агентов), либо в абсолютном времени выполнения.8 Этот критерий более практичен для сред с ограниченными ресурсами, но, как и предыдущий, он не связан с фактическим прогрессом поиска.


2.2. Критерии на Основе Производительности


Эти критерии принимают решение об остановке, основываясь на качестве найденных решений.
* Порог приспособленности (Fitness Threshold): Алгоритм завершается, когда значение функции приспособленности лучшего найденного индивида превышает заданный порог.14 Этот метод эффективен в тех редких случаях, когда уровень «достаточно хорошего» решения известен заранее. Однако в открытых исследовательских задачах, характерных для ADAS, такой порог обычно неизвестен.


2.3. Эвристические Критерии Сходимости


Эти методы пытаются сделать вывод о сходимости, анализируя поведение популяции (архива) с течением времени. Они являются более интеллектуальными, чем детерминированные критерии, поскольку адаптируются к динамике поиска.
* Обнаружение стагнации (Plateau Detection): Остановка происходит, если лучший показатель приспособленности не улучшался в течение заданного числа последовательных поколений, k.14 Это одна из наиболее широко используемых и практически эффективных эвристик. Она позволяет избежать бесполезных вычислений после того, как поиск зашел в тупик.
* Сходимость популяции: Алгоритм завершается, когда разнообразие популяции падает ниже определенного порога. Это можно измерить либо на уровне фенотипа (все агенты в архиве имеют очень близкие значения производительности), либо на уровне генотипа (код или промпты агентов становятся очень похожими).14 Потеря разнообразия указывает на то, что эволюционный процесс исчерпал свой потенциал для генерации принципиально новых решений.


2.4. Теоретическая Основа из NAS: Теория Оптимальной Остановки


Эта концепция предлагает более принципиальный подход к компромиссу между исследованием и эксплуатацией, проводя прямые параллели с NAS.17
* Задача о секретаре (Secretary Problem): Классическая задача теории вероятностей, которая моделирует принятие оптимального решения в условиях неопределенности при последовательном поступлении информации.17 Суть задачи — нанять лучшего кандидата из n претендентов, просматривая их по одному и принимая окончательное решение в момент просмотра.
* Применение к ADAS: Исследования по применению этой теории к NAS предлагают конкретные, основанные на данных эмпирические правила, которые можно перенести на ADAS 17:
   * Классическое правило (37%): Исследовать первую 1/e (приблизительно 37%) часть общего бюджета без выбора, чтобы установить базовый уровень качества. Затем выбрать первого кандидата, который превосходит лучший результат из фазы исследования.
   * Правило «Достаточно хорошо» (15%): Модификация, в которой наличие порога производительности позволяет остановить поиск раньше, сокращая необходимую фазу исследования примерно до 15%.
   * Правило «Возврата» (4%): Вариант, позволяющий вернуться к любому ранее рассмотренному кандидату. Эта версия наиболее релевантна для ADAS, поскольку «архив предыдущих открытий» 2 идеально реализует механизм «возврата». Это наблюдение имеет глубокие последствия: оно предполагает, что структура ADAS, возможно, непреднамеренно, уже оптимизирована для наиболее эффективной стратегии поиска с точки зрения теории оптимальной остановки. Архив, введенный авторами ADAS из прагматических соображений для информирования мета-агента, получает формальное математическое обоснование как механизм, который радикально (с 37% до 4%) сокращает необходимую фазу чистого исследования перед началом эксплуатации. Это позволяет предложить высокоэффективную стратегию: исследовать всего ~4% от общего бюджета для установления базового уровня, а затем остановить поиск, как только новый агент превзойдет лучший из архива после этой начальной фазы.
Следует отметить, что сами критерии остановки демонстрируют определенную эволюцию: от простых и жестких правил (максимальное число поколений) к динамическим эвристикам (обнаружение стагнации) и, наконец, к статистически обоснованным правилам, которые будут подробно рассмотрены в следующем разделе. Структура данного отчета отражает эту эволюцию, проводя читателя от базовых методов к самым современным подходам.
Категория критерия
	Конкретный метод
	Основной принцип
	Адаптивность
	Вычислительная сложность
	Основной недостаток
	Бюджетные
	Макс. поколений/итераций
	Ограничение на количество циклов
	Низкая
	Минимальная
	Нечувствительность к прогрессу оптимизации
	

	Макс. время/оценки функции
	Ограничение на вычислительные ресурсы
	Низкая
	Минимальная
	Нечувствительность к прогрессу оптимизации
	На основе производительности
	Порог приспособленности
	Достижение заранее известной цели
	Средняя
	Минимальная
	Требует априорного знания о "хорошем" решении
	Эвристические
	Обнаружение стагнации
	Отсутствие улучшения в течение k итераций
	Высокая
	Низкая
	Чувствительность к выбору параметра k (терпение)
	

	Сходимость популяции
	Потеря разнообразия в архиве
	Высокая
	Средняя
	Может привести к преждевременной остановке
	Теоретические
	Теория оптимальной остановки
	Баланс исследования и эксплуатации
	Высокая
	Низкая
	Требует оценки общего бюджета для определения фазы исследования
	

Раздел 3: Статистические Фреймворки для Онлайн-Обнаружения Сходимости


Этот раздел является аналитическим ядром отчета и напрямую отвечает на потребность в «статистически значимых» критериях остановки. Здесь представлены практические, реализуемые статистические методы для онлайн-обнаружения сходимости (Online Convergence Detection, OCD) 22, которые позволяют перейти от эвристик к строгим, количественно обоснованным решениям.


3.1. Анализ на Основе Дисперсии: Количественная Оценка Стабильности


* Принцип: По мере сходимости эволюционного алгоритма индивиды в популяции становятся более однородными, что приводит к уменьшению дисперсии их значений приспособленности. В контексте ADAS можно отслеживать дисперсию производительности лучших агентов в скользящем окне из последних N итераций.
* Методология: Предлагается использовать дисперсию лучших значений приспособленности, полученных на протяжении поколений, в качестве критерия завершения.24 Алгоритм останавливается, когда эта дисперсия падает ниже заранее определенного пользователем порога, $\epsilon$. Этот метод автоматически учитывает внутренние характеристики целевой функции, поскольку он реагирует на фактическую изменчивость производительности, а не на абсолютные значения.24
* Реализация: Алгоритм прост: необходимо поддерживать очередь (или другой буфер) последних N лучших значений производительности. На каждом шаге после добавления нового значения вычисляется дисперсия элементов в очереди. Если вычисленная дисперсия меньше $\epsilon$, генерируется сигнал к остановке.


3.2. Проверка Статистических Гипотез для Обнаружения Стагнации


Этот подход формализует обнаружение стагнации, позволяя строго определить, являются ли наблюдаемые улучшения реальным прогрессом или случайными флуктуациями.


3.2.1. t-критерий для Наклона Регрессии Производительности


* Принцип: Это наиболее прямой способ проверить наличие тренда на улучшение. Последовательность лучших значений производительности за последние N итераций рассматривается как временной ряд. К этим данным применяется простая линейная регрессионная модель вида: $Производительность = \beta_0 + \beta_1 \times Итерация$. Коэффициент наклона, $\beta_1$, представляет собой среднюю скорость улучшения за одну итерацию.
* Гипотеза: Нулевая гипотеза ($H_0$) заключается в том, что наклон меньше или равен нулю ($\beta_1 \le 0$), что указывает на отсутствие статистически значимого улучшения. Альтернативная гипотеза ($H_a$) — наклон положителен ($\beta_1 > 0$), что свидетельствует о продолжающемся прогрессе.
* Методология: Для проверки этой гипотезы выполняется односторонний t-тест для коэффициента $\beta_1$.26 В результате теста вычисляется p-value. Если p-value оказывается больше выбранного уровня значимости $\alpha$ (например, 0.05), то мы не можем отвергнуть нулевую гипотезу и делаем вывод, что процесс поиска стагнировал.


3.2.2. Критерий Хи-квадрат для Дисперсии


* Принцип: Этот тест формализует подход, основанный на дисперсии (раздел 3.1). Вместо сравнения дисперсии с эвристическим порогом, он проверяет формальную статистическую гипотезу о ее значении.
* Гипотеза: Нулевая гипотеза ($H_0$) состоит в том, что дисперсия последних N значений производительности равна заранее определенному «пороговому значению стагнации», $\sigma_0^2$ (небольшое значение, указывающее на стабильность). Альтернативная гипотеза ($H_a$) — истинная дисперсия больше $\sigma_0^2$.
* Методология: Основываясь на работах по OCD в эволюционных алгоритмах 22, можно использовать односторонний тест хи-квадрат для дисперсии. Тестовая статистика вычисляется по формуле $T = (N-1)s^2 / \sigma_0^2$, где s² — выборочная дисперсия.30 Если тест не позволяет отвергнуть $H_0$ (т.е. p-value высокое), это дает статистическое подтверждение того, что процесс стабилизировался.


3.2.3. Непараметрический Анализ Тренда (U-критерий Манна-Уитни или Критерий Тренда Пейджа)


* Принцип: Эти тесты являются более робастными альтернативами t-тесту, поскольку они не делают предположений о нормальности распределения улучшений. U-критерий Манна-Уитни может сравнивать распределения значений производительности из первой и второй половин скользящего окна.31 Критерий тренда Пейджа специально разработан для обнаружения монотонных трендов в упорядоченных группах (в данном случае, итерациях).33
* Гипотеза: $H_0$: Нет различий в распределениях (или нет тренда). $H_a$: Распределение недавних оценок стохастически больше, чем распределение более старых оценок (или есть возрастающий тренд).
* Методология: Критерий Пейджа применяется к разницам в значениях производительности в нескольких «контрольных точках» на протяжении выполнения алгоритма, чтобы определить, не ослабевает ли тенденция к улучшению.33 Статистически незначимый результат свидетельствует о стагнации.


3.3. Новый Фреймворк: Статистическое Управление Процессами (SPC)


* Принцип: Этот подраздел вводит мощную и нетривиальную аналогию: процесс оптимизации ADAS рассматривается как производственный процесс, а значение производительности лучшего агента в каждом поколении — как измерение качества продукции.35 SPC предоставляет зрелый, статистически строгий инструментарий для мониторинга таких процессов.
* Методология: Предлагается использовать контрольные карты индивидуальных значений и скользящих размахов (XmR-карты).37
   1. Установление базовой линии: Используется начальный набор итераций (например, первые 20-30) для расчета начальной средней производительности (центральная линия, CL) и контрольных пределов (верхний UCL и нижний LCL), которые обычно устанавливаются на расстоянии $\pm3$ стандартных отклонений от среднего.39
   2. Мониторинг процесса: Каждое последующее значение лучшей производительности наносится на карту.
   3. Интерпретация сигналов: Ключевая идея заключается в инвертировании стандартной интерпретации SPC. В производстве точка за пределами контрольных пределов указывает на «особую причину» вариации, то есть на проблему. В ADAS точка выше верхнего контрольного предела (UCL) также является «особой причиной», но желательной — она представляет собой значительный прорыв. Процесс считается «стабильным» или «в управляемом состоянии» (т.е. сошедшимся), когда больше не наблюдается таких особых причин, и точки данных демонстрируют только «общую причину» вариации (случайный шум вокруг установившегося среднего).39
   4. Правило остановки: Алгоритм завершается, когда процесс считается «в управляемом состоянии» в течение определенного числа последовательных поколений, на основе установленных правил SPC (например, отсутствие точек за пределами контрольных границ, отсутствие серии из 8 последовательных точек по одну сторону от центральной линии и т.д.).39
Важно понимать, что стагнация не всегда является окончательным состоянием. Исследования показывают, что она может предшествовать скачку к лучшему оптимуму, так как позволяет популяции сконцентрироваться в перспективной области перед следующим прорывом.44 Это означает, что простой детектор стагнации недостаточен. Надежный критерий остановки должен обладать «терпением» — он должен уметь отличать временное плато от окончательной сходимости. Это полностью оправдывает использование скользящего окна и требование, чтобы сигнал о стагнации сохранялся в течение нескольких последовательных проверок.
Более того, фреймворк SPC предоставляет единый язык для всех других статистических методов. t-тест для наклона, по сути, является тестом на наличие «тренда» (одно из правил SPC). Критерий хи-квадрат для дисперсии — это формальный способ проверить, стабилизировался ли разброс процесса. Сама центральная идея SPC о различении «общей» и «особой» причин вариации является идеальной статистической метафорой для различения «случайного шума/незначительных улучшений» и «настоящих инновационных прорывов» в поиске ADAS. Таким образом, SPC — это не просто еще один инструмент, а мета-фреймворк, который концептуально объединяет другие статистические сигналы в единую, визуально интерпретируемую и хорошо изученную методологию.


Раздел 4: Робастная Многостадийная Стратегия Остановки для ADAS


Осознавая, что ни один отдельный критерий не является универсально оптимальным, данный раздел синтезирует рассмотренные концепции в единую практическую, гибридную методологию.47 Предлагаемая стратегия объединяет сильные стороны различных подходов для создания робастного, многостадийного процесса принятия решения об остановке. Эта структура представляет собой не просто последовательность шагов, а адаптивную систему управления самим процессом оптимизации, где результаты одной стадии калибруют параметры следующей, подобно принципам реактивного поискового оптимизатора (RSO).19


4.1. Стадия 1: Начальное Исследование и Сбор Данных (Фаза «Прогрева»)


* Цель: Широко исследовать пространство поиска на начальном этапе и собрать достаточный объем данных для инициализации статистических моделей, избегая преждевременного завершения.
* Процедура: Мета-агент выполняется в течение фиксированного, обязательного числа итераций, $N_{min}$. Это значение может быть определено на основе правила «возврата» из теории оптимальной остановки, которое предполагает использование небольшой доли от общего бюджета (например, 4-5%).17 Данные о производительности, собранные на этой стадии, используются для расчета начальных контрольных пределов для SPC-карты и служат первым окном данных для регрессионного анализа. Эта стадия обеспечивает необходимый объем исследования, прежде чем алгоритм перейдет к фазе эксплуатации.


4.2. Стадия 2: Эксплуатация под Статистическим Контролем


* Цель: Продолжать поиск до тех пор, пока существуют статистические доказательства значимого улучшения, при этом активно отслеживая признаки окончательной сходимости.
* Процедура: После завершения $N_{min}$ итераций активируется система онлайн-обнаружения сходимости. На каждой последующей итерации параллельно выполняются следующие проверки:
   1. Обновление SPC-карты: Новое лучшее значение производительности наносится на карту. Карта проверяется на наличие сигналов «выхода из-под контроля» (например, точек выше UCL), которые указывают на продолжающийся прогресс. Обнаружение такого сигнала (прорыва) сбрасывает любые счетчики стагнации.
   2. Выполнение теста гипотезы: Проводится t-тест для наклона регрессии по последним N значениям производительности.
* Условие продолжения: Поиск продолжается, пока SPC-карта демонстрирует «особые причины» улучшения ИЛИ t-тест для наклона остается статистически значимым (p-value < $\alpha$).


4.3. Стадия 3: Подтверждение Стагнации и Завершение


* Цель: Уверенно завершить поиск после того, как статистические доказательства стагнации станут устойчивыми.
* Процедура: Вводится счетчик «терпения» (Patience). Если условия продолжения на Стадии 2 не выполняются (т.е. процесс на SPC-карте «в управляемом состоянии» И наклон регрессии статистически не отличается от нуля), счетчик терпения увеличивается на единицу. Если же прогресс возобновляется (например, происходит прорыв), счетчик сбрасывается. Алгоритм завершается, если счетчик терпения достигает заранее определенного порога, P. Это гарантирует, что алгоритм не остановится из-за одной случайной флуктуации или короткого плато, учитывая, что стагнация может быть продуктивной фазой перед следующим скачком производительности.


4.4. Механизм Безопасности: Глобальное Бюджетное Ограничение


* Цель: Гарантировать завершение работы алгоритма при любых обстоятельствах и соблюдать абсолютные ограничения на ресурсы.
* Процедура: В системе всегда действует глобальное ограничение на максимальное количество итераций, $N_{max}$, или максимальное время выполнения.14 Алгоритм немедленно прекращает работу при достижении этого лимита, независимо от состояния статистического мониторинга. Это делает весь процесс предсказуемым с точки зрения планирования ресурсов.
Эта многостадийная стратегия не просто определяет, когда остановиться; она явно управляет фундаментальным компромиссом между исследованием и эксплуатацией.13 Стадия 1 — это принудительное исследование. Стадия 2 — это эксплуатация, но чувствительность SPC к «особым причинам» (прорывам) оставляет систему открытой для дальнейшего исследования. Стадия 3 подтверждает, что фаза продуктивной эксплуатации завершена. Таким образом, правило остановки становится прямым следствием управляемой стратегии поиска.


Раздел 5: План Реализации и Стратегические Рекомендации


Этот заключительный раздел предоставляет практические рекомендации для реализации предложенной многостадийной стратегии, переводя теоретические концепции в конкретный инженерный план.


5.1. Псевдокод для Многостадийной Стратегии


Ниже представлен псевдокод, описывающий логику гибридной стратегии остановки. Он является агностическим к языку программирования и служит руководством для реализации.51






АЛГОРИТМ: Многостадийная Остановка для Мета-Агентного Поиска

ВХОДНЫЕ ПАРАМЕТРЫ:
 N_min:         // Минимальное число итераций для "прогрева" (например, 25)
 N_max:         // Максимальное общее число итераций (бюджет)
 N_window:      // Размер скользящего окна для стат. анализа (например, 15)
 P_max:         // Максимальное "терпение" (например, 5)
 alpha:         // Уровень значимости для t-теста (например, 0.05)

ИНИЦИАЛИЗАЦИЯ:
 iteration = 0
 patience_counter = 0
 best_scores =      // Список для хранения лучших результатов на каждой итерации
 spc_chart = new SPC_Chart()
 stop_signal = FALSE

ОСНОВНОЙ ЦИКЛ:
 WHILE iteration < N_max AND stop_signal == FALSE:
   iteration = iteration + 1

   // Шаг 1: Генерация и оценка нового агента
   new_agent = MetaAgent.generate_agent(archive)
   performance = evaluate(new_agent)
   archive.add(new_agent, performance)
   
   best_scores.append(archive.get_best_performance())

   // Шаг 2: Проверка стадий
   IF iteration < N_min:
     // Стадия 1: "Прогрев" и сбор данных
     CONTINUE // Никаких проверок на остановку

   ELSE IF iteration == N_min:
     // Инициализация статистических моделей
     spc_chart.initialize_limits(best_scores)

   ELSE:
     // Стадия 2 и 3: Мониторинг и проверка на остановку
     
     // Обновление SPC-карты
     is_breakthrough = spc_chart.check_for_special_cause(last(best_scores))

     // Выполнение t-теста для наклона регрессии
     window = best_scores[-N_window:]
     p_value_slope = perform_regression_ttest(window)
     is_improving = (p_value_slope < alpha)

     // Проверка условий продолжения
     IF is_breakthrough OR is_improving:
       patience_counter = 0 // Сброс терпения при наличии прогресса
     ELSE:
       patience_counter = patience_counter + 1 // Увеличение терпения при стагнации

     // Проверка условия остановки
     IF patience_counter >= P_max:
       stop_signal = TRUE
       print("Остановка по критерию подтвержденной стагнации на итерации", iteration)

ВЫХОД:
 IF iteration >= N_max:
   print("Остановка по достижению максимального бюджета итераций")
 
 RETURN archive.get_best_agent()



5.2. Параметризация и Настройка


Эффективность статистических критериев сильно зависит от правильного выбора их параметров. Ниже приведены практические рекомендации по их настройке.
* Размер окна (N_window): Используется для t-теста и расчета дисперсии. Существует компромисс: маленькое окно делает систему более отзывчивой к изменениям, но чувствительной к шуму; большое окно обеспечивает стабильность, но медленно реагирует на начало стагнации. Рекомендуется начинать со значений в диапазоне 10-30.
* Уровень значимости ($\alpha$): Используется в тестах гипотез. Стандартное значение 0.05 означает 5% риск преждевременной остановки (ошибка I рода). Пользователь может изменять этот параметр в зависимости от своего отношения к риску: более низкое значение $\alpha$ (например, 0.01) сделает критерий более консервативным, требуя более веских доказательств прогресса для продолжения работы.
* Терпение (P_max): Количество последовательных сигналов о стагнации, которые необходимо получить перед остановкой. Рекомендуется значение в диапазоне 3-5, чтобы защититься от случайных флуктуаций и дать алгоритму шанс выйти из временного плато.
* Период базовой линии SPC (N_min): Количество начальных итераций для расчета контрольных пределов. Литература по SPC предлагает использовать минимум 20-25 точек данных для получения стабильных пределов.39
Параметр
	Связанные методы
	Назначение
	Компромисс при настройке
	Рекомендуемый диапазон
	N_window
	t-тест, анализ дисперсии
	Размер истории для статистического анализа
	Малый: отзывчивость, но шум. Большой: стабильность, но инертность.
	10 – 30 итераций
	$\alpha$
	t-тест, хи-квадрат тест
	Порог для определения стат. значимости
	Низкий: риск упустить прогресс. Высокий: риск продолжать бесполезный поиск.
	0.01 – 0.1 (стандартно 0.05)
	P_max
	Многостадийная стратегия
	Защита от преждевременной остановки на плато
	Малый: быстрая остановка, риск ошибки. Большой: робастность, но большие затраты.
	3 – 5 последовательных сигналов
	N_min
	SPC, многостадийная стратегия
	Сбор данных для инициализации стат. моделей
	Малый: быстрая инициализация, но неточные модели. Большой: точные модели, но долгий "прогрев".
	20 – 30 итераций
	$\epsilon$
	Анализ дисперсии (простой)
	Порог для определения стабильности
	Субъективен и зависит от масштаба функции приспособленности.
	Требует эмпирического подбора
	

5.3. Заключительные Рекомендации и Будущие Направления


* Рекомендация: Для практического применения в ADAS настоятельно рекомендуется внедрение описанной многостадийной гибридной стратегии. В качестве основного инструмента мониторинга предлагается использовать фреймворк SPC благодаря его визуальной интерпретируемости, робастности и способности улавливать как постепенные, так и резкие улучшения. t-тест для наклона регрессии следует использовать в качестве подтверждающего сигнала, формализующего оценку тренда.
* Будущие исследования: Представленная методология открывает несколько направлений для дальнейших исследований. Во-первых, возможна разработка методов мета-адаптации, которые бы динамически настраивали параметры самих критериев остановки (например, размер окна N или уровень значимости $\alpha$) в зависимости от наблюдаемой динамики поиска. Во-вторых, можно использовать более сложные модели временных рядов (например, ARIMA) для прогнозирования будущих улучшений и принятия решений на основе этих прогнозов.54 Наконец, особый интерес представляет адаптация этих методов для многокритериальных задач ADAS, где сходимость отслеживается не по одному скалярному значению, а по эволюции фронта Парето.56
Источники
1. [PDF] Automated Design of Agentic Systems - Semantic Scholar, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
2. Automated Design of Agentic Systems - arXiv, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
3. [2408.08435] Automated Design of Agentic Systems - arXiv, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
4. Automated Design of Agentic Systems - OpenReview, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
5. ADAS - Shengran Hu, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
6. ShengranHu/ADAS: [ICLR 2025] Automated Design of ... - GitHub, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
7. [Linkpost] Automated Design of Agentic Systems - LessWrong, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
8. Evolutionary Algorithms: A Critical Review and its Future Prospects, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
9. EVOAGENT: Towards Automatic Multi-Agent ... - ACL Anthology, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
10. EvoAgent: Towards Automatic Multi-Agent Generation via Evolutionary Algorithms - arXiv, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
11. Evolutionary Developmental Biology Can Serve as the Conceptual Foundation for a New Design Paradigm in Artificial Intelligence - arXiv, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
12. Why optimization convergence is important, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
13. Neural Architecture Search - AutoML.org, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
14. Common termination conditions in Genetic Algorithm - Educative.io, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
15. Termination Criteria in Evolutionary Algorithms: A Survey - University of Southern Denmark, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
16. Termination Criteria in Evolutionary Algorithms: A Survey - SciTePress, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
17. Neural Architecture Search Applying Optimal Stopping ... - Frontiers, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
18. Introduction to AutoML: Hyperparameter Optimization and Neural Architecture Search, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
19. Genetic algorithm - Wikipedia, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
20. (μ,λ)-Evolution Strategy - Algorithm Afternoon, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
21. On Stopping Criteria for Genetic Algorithms - ResearchGate, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
22. OCD: Online Convergence Detection for Evolutionary Multi-Objective Algorithms Based on Statistical Testing | Request PDF - ResearchGate, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
23. Statistical Methods for Convergence Detection of Multi-Objective Evolutionary Algorithms | Request PDF - ResearchGate, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
24. Variance as a Stopping Criterion for Genetic Algorithms with Elitist Model - Indian Statistical Institute, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
25. Variance as a Stopping Criterion for Genetic Algorithms with Elitist Model - ResearchGate, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
26. Inferences About the Slope - The Regression t-Test - Freie Universität Berlin, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
27. Inferences About the Slope - The Regression t-Test - Freie Universität Berlin, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
28. How to Perform t-Test for Slope of Regression Line in R - Statology, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
29. Statistical Methods for Convergence Detection of Multi- Objective Evolutionary Algorithms - Scholarly Publications Leiden University, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
30. 1.3.5.8. Chi-Square Test for the Variance - Information Technology Laboratory, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
31. Stop AbUsing the Mann-Whitney U Test (MWU) - Analytics-Toolkit.com, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
32. Mann–Whitney U test - Wikipedia, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
33. Analyzing convergence performance of evolutionary algorithms - Soft Computing and Intelligent Information Systems, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
34. Analyzing convergence performance of evolutionary algorithms - ISI Articles, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
35. Determining Convergence in Gaussian Process Surrogate Model Optimization, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
36. Statistical Process Control (SPC): The Ultimate Guide [2025] - SixSigma.us, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
37. statprocon - PyPI, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
38. What are Statistical Process Control (SPC) Charts? - Analytics Vidhya, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
39. Statistical Process Control Charts - ASQ, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
40. How Much Data Do I Need to Calculate Control Limits? - SPC for Excel, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
41. CONTROL CHART - Balanced Scorecard Institute, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
42. Control Chart Rules and Interpretation - SPC for Excel, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
43. Statistical Process Control (SPC) - Quality-One, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
44. Stagnation in Evolutionary Algorithms: Convergence $\neq$ Optimality | alphaXiv, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
45. Stagnation in Evolutionary Algorithms: Convergence ≠ Optimality - arXiv, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
46. Analyzing convergence performance of evolutionary algorithms: A statistical approach | Request PDF - ResearchGate, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
47. A Review of Hybrid Evolutionary Multiple Criteria Decision Making Methods - MSU College of Engineering, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
48. Hybrid Evolutionary Algorithms: Methodologies, Architectures, and Reviews | Request PDF, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
49. An Approach to Stopping Criteria for Multi-objective Optimization Evolutionary Algorithms: The MGBM Criterion - ResearchGate, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
50. Hybrid Evolutionary Algorithms: Methodologies, Architectures, and Reviews - SciSpace, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
51. Extended Evolutionary Algorithms with Stagnation-Based Extinction Protocol - MDPI, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
52. Python Genetic Algorithm for Optimization - w3resource, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
53. Evolutionary Algorithms and Parameter Control | LIX, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
54. Time Series Forecasting in Python – Tutorial for Beginners - YouTube, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
55. Guide to Time-Series Analysis in Python | Tiger Data, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
56. Convergence Detection and Stopping Criteria for Evolutionary Multi-Objective Optimization - CEC 2017, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
57. Multi-objective optimization - Wikipedia, дата последнего обращения: октября 31, 2025, [URL_REMOVED]
58. Convergence Detection and Stopping Criteria for Evolutionary Multi-Objective Optimization - CEC 2017, дата последнего обращения: октября 31, 2025, [URL_REMOVED]