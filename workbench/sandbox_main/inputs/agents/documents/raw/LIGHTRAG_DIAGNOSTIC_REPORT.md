# üî¨ –û–¢–ß–Å–¢ –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò LIGHTRAG

**–î–∞—Ç–∞:** 24 –Ω–æ—è–±—Ä—è 2025 –≥.  
**–ê–≥–µ–Ω—Ç-–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å:** qwen2.5:14b-instruct-q4_k_m  
**–°–∏—Å—Ç–µ–º–∞:** LightRAG v1.4.9.8 + FastAPI

---

## üìä –°–¢–ê–¢–£–° –ü–†–û–ë–õ–ï–ú–´

### ‚ùì –ò–°–•–û–î–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê
- **–°–∏–º–ø—Ç–æ–º:** `aquery()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π" –¥–ª—è –í–°–ï–• –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ì—Ä–∞—Ñ —Å–æ–∑–¥–∞–Ω:** 4.24 MB, 4689 nodes, 3812 edges ‚úÖ
- **–í–µ–∫—Ç–æ—Ä—ã —Å–æ–∑–¥–∞–Ω—ã:** 68.42 MB (entities + relationships + chunks) ‚úÖ
- **–ú–æ–¥–µ–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:** 11.5 GB VRAM (qwen2.5 + nomic-embed-text) ‚úÖ
- **–ù–û:** –ü–∞–º—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞ 284 MB –≤–º–µ—Å—Ç–æ 1-2 GB ‚ùå

---

## ü§ñ –ê–ù–ê–õ–ò–ó –ê–ì–ï–ù–¢–ê QWEN2.5

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç–∞:

1. **VectorStoreConfig** - –Ø–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤:
   ```python
   vstore_config = VectorStoreConfig(
       entity_embeddings_path="...",
       relationship_embeddings_path="...",
       chunk_embeddings_path="..."
   )
   await rag.initialize_storages(vstore_config=vstore_config)
   ```

2. **load_graph()** - –Ø–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≥—Ä–∞—Ñ–∞ –≤ –ø–∞–º—è—Ç—å:
   ```python
   if os.path.exists(graph_path):
       await rag.load_graph(graph_path)
   ```

3. **QueryParam —É–ª—É—á—à–µ–Ω–∏–µ:**
   ```python
   QueryParam(
       mode="hybrid",
       top_k=5,
       only_need_context=True  # –ö–õ–Æ–ß–ï–í–û–ô –ü–ê–†–ê–ú–ï–¢–†
   )
   ```

4. **Chunk size** - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å 700 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è entities

---

## ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### 1. VectorStoreConfig (—Å fallback)
```python
try:
    from lightrag import VectorStoreConfig
    vstore_config = VectorStoreConfig(...)
    await rag.initialize_storages(vstore_config=vstore_config)
except (ImportError, TypeError):
    await rag.initialize_storages()  # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–µ–∂–∏–º
```

### 2. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ load_graph()
```python
if hasattr(rag, 'load_graph'):
    await rag.load_graph(str(graph_path))
elif hasattr(rag, 'graph_storage') and hasattr(rag.graph_storage, 'load_graph'):
    await rag.graph_storage.load_graph(str(graph_path))
```

### 3. QueryParam —É–ª—É—á—à–µ–Ω
- `top_k=10` (–≤–º–µ—Å—Ç–æ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ)
- `only_need_context=True` (–∫–∞–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–ª –∞–≥–µ–Ω—Ç)

### 4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ
- `logging.basicConfig(level=logging.INFO)`
- `logging.warning()` –¥–ª—è –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏

---

## üß™ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:

#### ‚úÖ –†–ê–ë–û–¢–ê–ï–¢:
- **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è:** 479/484 (99%)
- **–°–µ—Ä–≤–µ—Ä:** –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ /health
- **–§–∞–π–ª—ã –≥—Ä–∞—Ñ–∞:** –í—Å–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç (4.24 MB + 68.42 MB –≤–µ–∫—Ç–æ—Ä–æ–≤)
- **–ú–æ–¥–µ–ª–∏:** –ó–∞–≥—Ä—É–∂–µ–Ω—ã –≤ VRAM (11.5 GB)

#### ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û –†–ê–ë–û–¢–ê–ï–¢:
- **–ü–æ–∏—Å–∫:** 
  - ‚úÖ "GPU —Ä–∞–∑–≥–æ–Ω" (hybrid) ‚Üí **–ù–ê–•–û–î–ò–¢!**
  - ‚ùå "Memory Clock GPU" (hybrid) ‚Üí –ü—É—Å—Ç–æ
  - ‚ùå "MSI Afterburner" (local) ‚Üí –ü—É—Å—Ç–æ
  - ‚ùå "–∫–∞–∫ —Ä–∞–∑–æ–≥–Ω–∞—Ç—å –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—É" (hybrid) ‚Üí –ü—É—Å—Ç–æ

#### ‚ùå –ù–ï –†–ï–®–ï–ù–û:
- **–ü–∞–º—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞:** 420 MB (–±—ã–ª–æ 284 MB, –ø—Ä–æ–≥—Ä–µ—Å—Å +48%)
- **–ù–µ–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø–æ–∏—Å–∫:** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç, –¥—Ä—É–≥–∏–µ –Ω–µ—Ç

---

## üîç –ì–ò–ü–û–¢–ï–ó–´ –ü–†–ò–ß–ò–ù

### 1. only_need_context=True (–Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–æ)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ê–≥–µ–Ω—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–ª `True`, –Ω–æ —ç—Ç–æ –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–µ–∑ —Å–∏–Ω—Ç–µ–∑–∞ –æ—Ç–≤–µ—Ç–∞

**–¢–µ—Å—Ç:** –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å `only_need_context=False`

### 2. Chunk size 700 —Å–∏–º–≤–æ–ª–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–µ —á–∞–Ω–∫–∏ ‚Üí entities –Ω–µ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–¢–µ—Å—Ç:** –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å chunk_size=1200-1500

### 3. Embedding –º–æ–¥–µ–ª—å (nomic-embed-text)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–¥–µ–ª—å –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã (–∞–Ω–≥–ª–∏–π—Å–∫–∏–µ/—Ä—É—Å—Å–∫–∏–µ)

**–¢–µ—Å—Ç:** –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥—É—é embedding –º–æ–¥–µ–ª—å

### 4. VectorStoreConfig –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
**–ü—Ä–æ–±–ª–µ–º–∞:** lightrag-hku v1.4.9.8 –º–æ–∂–µ—Ç –Ω–µ –∏–º–µ—Ç—å `VectorStoreConfig` –∫–ª–∞—Å—Å–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–∫–∞–∂—É—Ç `ImportError` –∏–ª–∏ `TypeError`

### 5. load_graph() –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–µ—Ç–æ–¥ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ LightRAG

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –õ–æ–≥–∏ –ø–æ–∫–∞–∂—É—Ç "[INFO] –ú–µ—Ç–æ–¥ load_graph() –Ω–µ –Ω–∞–π–¥–µ–Ω"

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ü—Ä–æ—Å—Ç–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–±—ã—Å—Ç—Ä–æ)
1. **–ò–∑–º–µ–Ω–∏—Ç—å `only_need_context=False`** –≤ QueryParam
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∏—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è (–º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ –Ω–∞–¥—ë–∂–Ω–æ)
1. –£–≤–µ–ª–∏—á–∏—Ç—å chunk_size –¥–æ 1200-1500 —Å–∏–º–≤–æ–ª–æ–≤
2. –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –≤ `lightrag_cache/`
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—É—é –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç –í: –û—Ç–ª–∞–¥–∫–∞ (–¥–µ—Ç–∞–ª—å–Ω–æ)
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤ –æ–∫–Ω–µ PowerShell
2. –ù–∞–π—Ç–∏ —Å—Ç—Ä–æ–∫–∏ —Å `[OK]`, `[WARNING]`, `[INFO]`
3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–æ–π –º–µ—Ç–æ–¥ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ä–∞–±–æ—Ç–∞–ª
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ª–∏ VectorStoreConfig

### –í–∞—Ä–∏–∞–Ω—Ç –ì: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è LightRAG
1. –ù–∞–π—Ç–∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è lightrag-hku
2. –°—Ä–∞–≤–Ω–∏—Ç—å —Å —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π
3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

---

## üìà –ü–†–û–ì–†–ï–°–°

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ –∞–≥–µ–Ω—Ç–∞ | –ü–æ—Å–ª–µ –∞–≥–µ–Ω—Ç–∞ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|---------|-----------|--------------|-----------|
| –ü–∞–º—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞ | 284 MB | 420 MB | **+48%** ‚úÖ |
| –†–∞–±–æ—Ç–∞—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ | 0% | ~25% | **+25%** ‚úÖ |
| –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è | 99.1% | 99.0% | –°—Ç–∞–±–∏–ª—å–Ω–æ |
| VRAM | 11.5 GB | 11.5 GB | –°—Ç–∞–±–∏–ª—å–Ω–æ |

**–í—ã–≤–æ–¥:** –ü—Ä–æ–≥—Ä–µ—Å—Å –µ—Å—Ç—å! –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ—à–ª–∞ –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è "–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç" –≤ "—Ä–∞–±–æ—Ç–∞–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ".

---

## üí° –í–´–í–û–î–´

### ‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ:
1. –ê–≥–µ–Ω—Ç qwen2.5 –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞–ª –ø—Ä–æ–±–ª–µ–º—É
2. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç–∞ —É–ª—É—á—à–∏–ª–∏ —Å–∏—Ç—É–∞—Ü–∏—é
3. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ç–µ–ø–µ—Ä—å –Ω–∞—Ö–æ–¥—è—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
4. –ü–∞–º—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤—ã—Ä–æ—Å–ª–∞ (–≥—Ä–∞—Ñ —á–∞—Å—Ç–∏—á–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è)

### ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã:
1. –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø–æ—Å—Ç–æ—è–Ω–Ω–æ (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø—É—Å—Ç—ã–µ)
2. –ü–∞–º—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤—Å—ë –µ—â—ë –Ω–∏–∑–∫–∞—è (420 MB vs –æ–∂–∏–¥–∞–µ–º—ã–µ 1-2 GB)
3. `VectorStoreConfig` –∏ `load_graph()` –º–æ–≥—É—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –≤–µ—Ä—Å–∏–∏ 1.4.9.8

### üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:
**–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å `only_need_context=False`** ‚Äî —ç—Ç–æ —Å–∞–º–æ–µ –±—ã—Å—Ç—Ä–æ–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 24.11.2025 19:25  
**–°—Ç–∞—Ç—É—Å:** –í –ø—Ä–æ—Ü–µ—Å—Å–µ –æ—Ç–ª–∞–¥–∫–∏  
**–°–ª–µ–¥—É—é—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ:** –ò–∑–º–µ–Ω–∏—Ç—å only_need_context –Ω–∞ False
