Справочник по Настройкам и Архитектуре ИИ-Агентов


Этот документ представляет собой подробное руководство по настройкам, модулям и протоколам для проектирования, эксплуатации и аудита ИИ-агентов, основанных на архитектуре «оркестра когнитивной специализации».


1. Глобальные настройки (Protocol / Красные линии)


Эти настройки устанавливают фундаментальные правила и принципы, которые имеют наивысший приоритет и переопределяют любые другие параметры. Они формируют ядро безопасности и надежности агента.


Ключ
	Описание и Применение
	PrimaryDirective: Cognitive_Specialization_Orchestra
	Основная директива: Оркестр когнитивной специализации. Эта архитектура предполагает, что система состоит не из одного монолитного ИИ, а из нескольких специализированных агентов (модулей), каждый из которых выполняет свою уникальную когнитивную функцию.1 Центральный «оркестратор» управляет этими агентами, распределяя задачи и синтезируя результаты, подобно дирижеру, управляющему оркестром.2
	Применение: Используется для решения сложных, многоэтапных задач, где требуется сочетание различных «навыков»: анализ, креативность, критика, планирование и т.д.
	CorePrinciple: ConflictFreeArchitecture
	Ключевой принцип: Бесконфликтная архитектура. Этот принцип требует, чтобы роли и обязанности каждого агента в системе были четко разграничены, чтобы избежать дублирования функций и конфликтов.4 Каждый агент должен обладать уникальной специализацией.
	Применение: При проектировании системы необходимо определить четкие границы ответственности для каждого модуля. Например, один агент отвечает за сбор данных (Retriever), другой — за их обобщение (Summarizer), а третий — за проверку соответствия нормативным требованиям (Compliance agent).4
	RedLines.OperationalSafety
	Красные линии операционной безопасности. Набор абсолютных запретов, направленных на поддержание целостности и безопасности системы.
	   VerifiableDelegation
	Верифицируемое делегирование. Агент должен иметь возможность криптографически доказать, что он действует от имени конкретного пользователя. Это позволяет внешним сервисам проверять подлинность запросов агента и предотвращает несанкционированные действия.6
	Применение: Критически важно для задач, связанных с доступом к персональным данным, финансовыми транзакциями или корпоративными ресурсами.
	   SecurityPostureMaintenance
	Поддержание уровня безопасности. Агенту запрещено предпринимать любые действия, которые могут ослабить безопасность системы, данных или инфраструктуры. Все его рекомендации должны соответствовать лучшим практикам ИБ.8
	   ArtifactImmutability
	Неизменность артефактов. Принцип, согласно которому развернутые компоненты инфраструктуры (например, образы контейнеров) не изменяются после создания. Любые обновления производятся путем замены старого компонента новым. Это устраняет «дрейф конфигурации» и повышает безопасность и надежность.8
	Применение: В CI/CD пайплайнах для обеспечения консистентности между средами разработки, тестирования и продакшена.
	RedLines.InformationIntegrity
	Красные линии информационной целостности. Набор принципов, обеспечивающих достоверность и прозрачность информации, с которой работает агент. Включает мандат фактологичности, прозрачность уверенности, проактивное раскрытие рисков и честность в отношении возможностей.
	

2. Мета-уровень оркестрации


Этот уровень определяет, как агент выбирает стратегию выполнения задачи и как обеспечивает качество результата.


Ключ
	Описание и Применение
	OrchestrationModes
	Режимы оркестрации. Определяют степень автономности агента: 1. Прямое управление (Direct): Агент выполняет только прямые команды пользователя. 2. Второй пилот (Copilot): Агент предлагает шаги и решения, но требует подтверждения от человека перед их выполнением. 3. Автономная оркестрация (Autonomous): Агент самостоятельно декомпозирует задачу, выбирает модули и выполняет их для достижения цели.
	TriageProtocol
	Протокол сортировки (Триаж). Механизм, который анализирует входящую задачу по трем осям — Сложность (Complexity), Двусмысленность (Ambiguity) и Риск/Ценность (RiskValue) — и на основе этого выбирает один из путей выполнения: • Ускоренный (Fast): Для простых и ясных задач. • Стандартный (Standard): Использует стандартный плейбук. • Полный формальный (Formal): Для сложных и рискованных задач, требующих полной декомпозиции и верификации.
	QualityAssuranceLoop
	Контур контроля качества. Встроенный механизм самопроверки. Включает автоматическую оценку результата с помощью эвристик и прокси-метрик, а также может запрашивать верификацию у человека (Human-in-the-Loop, HITL).11
	Применение: Активация «критика до отправки» — специального агента, который оценивает готовый ответ на соответствие критериям качества перед тем, как показать его пользователю. Этот цикл обратной связи позволяет постоянно улучшать модели.12
	

3. Библиотека модулей (Когнитивные специалисты)


Каждый модуль — это специализированный агент, выполняющий определенную когнитивную функцию.


Модуль
	Роль и Применение
	analyze-5w1h (Kipling)
	Системный анализатор запроса. Разбирает неструктурированный запрос пользователя на составные части по методу Киплинга: Кто? (Who), Что? (What), Когда? (When), Где? (Where), Почему? (Why), Как? (How).14
	Применение: Автоматически активируется при высокой двусмысленности запроса, чтобы прояснить контекст и цель задачи перед передачей другим модулям.16
	forge-disney
	Генератор идей «от видения к плану». Реализует творческую стратегию Уолта Диснея, последовательно применяя три роли: Мечтатель (Dreamer) для генерации идей без ограничений, Реалист (Realist) для разработки плана их воплощения и Критик (Critic) для выявления слабых мест и рисков.17
	Применение: Идеально подходит для создания новых концепций, продуктов или стратегий с нуля.
	ideate-scamper
	Генератор итеративных улучшений. Использует метод SCAMPER для поиска низкорисковых, инкрементальных инноваций путем применения семи «линз»: Substitute (Заменить), Combine (Комбинировать), Adapt (Адаптировать), Modify (Модифицировать), Put to another use (Применить для другого), Eliminate (Устранить), Reverse (Перевернуть).20
	Применение: Эффективен для улучшения существующих продуктов, услуг или процессов.
	solve-triz
	Решатель изобретательских задач. Экспертная система, предназначенная для работы с системными противоречиями (например, «устройство должно быть прочным, но легким»). Использует базу знаний ТРИЗ (Теория решения изобретательских задач) и матрицу противоречий для поиска нетривиальных решений.23
	Применение: Используется, когда улучшение одного параметра системы приводит к ухудшению другого.
	monitor-kpi
	Система причинно-следственного мониторинга. Отслеживает метрики и показатели, выстраивая иерархию от технических индикаторов (например, время отклика сервера) до бизнес-показателей (например, удовлетворенность клиентов). Применение: Для создания отчетов и алертов, которые показывают, как технические проблемы влияют на бизнес-цели.
	guard-fomo
	Защита от когнитивных искажений (FOMO). Специализированный агент, который выявляет решения, принятые под влиянием ажиотажа или «страха упустить выгоду» (Fear of Missing Out). Применение: Активируется при резких негативных трендах или аномальной активности, предлагая «протоколы охлаждения», такие как задержка решения или предоставление контр-аргументов для более взвешенной оценки.26
	execute-ifr
	Отказоустойчивый исполнитель. Модуль для выполнения задач с высоким риском или строгими регуляторными требованиями. Работает в режиме «Идеального конечного результата» (ИКР) — концепции из ТРИЗ, описывающей идеальное решение без затрат и вреда.29
	Применение: Для выполнения критически важных операций, где требуется строгое следование плану, детальное логирование и подтверждение каждого шага.
	

4. RAG / Память / Источники знаний


Компоненты, отвечающие за работу с информацией и сохранение контекста.


Ключ
	Описание и Применение
	Knowledge.connectors
	Коннекторы к знаниям. Обеспечивают подключение к внешним источникам данных (файловые системы, CRM, базы данных) для извлечения фактической информации в рамках технологии Retrieval-Augmented Generation (RAG).
	Retrieval.policy
	Политика извлечения. Определяет, как агент работает с информацией. strict (строгий) режим запрещает агенту использовать знания вне предоставленных пользователем материалов, что снижает риск «галлюцинаций».
	RAG-параметры
	chunk_size: Размер фрагментов, на которые разбивается текст для анализа. Меньшие фрагменты повышают точность поиска, но могут терять контекст; большие — сохраняют контекст, но могут включать лишнюю информацию.31
	

embedding_model: Модель для преобразования текстовых фрагментов в числовые векторы (эмбеддинги).32
	top_k: Количество наиболее релевантных фрагментов, которые извлекаются из базы знаний для формирования ответа.
	Memory.State
	Состояние памяти.
• short_term (краткосрочная): Память для текущей сессии. Хранит контекст диалога, промежуточные результаты и артефакты (например, бриф от analyze-5w1h), которые передаются между модулями.34
	

• long_term (долговременная): Постоянное хранилище (например, в IndexedDB или другой БД) для сохранения знаний, логов и пользовательских предпочтений между сессиями.34
	

5. Плейбуки (Playbooks)


Готовые сценарии (цепочки вызова модулей) для решения типовых задач. Плейбуки стандартизируют рабочие процессы и обеспечивают предсказуемый результат.37
Примеры:
* Playbook_Strategic_Content_Generation: [analyze-5w1h, forge-disney,...] — цепочка для создания контент-стратегии.
* Playbook_Proactive_Risk_Management: [guard-fomo, analyze-5w1h, solve-triz, execute-ifr] — цепочка для упреждающего управления рисками.


6. Анти-ловушки (Системные предохранители)


Встроенные протоколы для предотвращения 7 типовых сбоев в работе ИИ-агентов.


Ловушка
	Описание
	Метод предотвращения
	Trap_NoFrames
	Отсутствие рамок (непонятная задача)
	Валидация схем и триаж. Система проверяет входные данные на соответствие ожидаемой схеме и использует TriageProtocol для классификации задачи.39
	Trap_NoRole
	Отсутствие роли (непонятно, кто что делает)
	Жестко заданные роли модулей. Каждый модуль имеет четко определенную, неизменную роль в ConflictFreeArchitecture.
	Trap_LongChain
	Слишком длинная цепочка действий
	Декомпозиция задач оркестратором. Оркестратор разбивает сложную задачу на более мелкие, управляемые подзадачи.42
	Trap_NoVerification
	Отсутствие проверки результата
	Внутренний контур QA. Активация QualityAssuranceLoop для самопроверки и/или верификации человеком.11
	Trap_MemoryLapse
	Потеря памяти/контекста
	Управление состоянием оркестратором. Оркестратор управляет передачей short_term памяти между модулями и сохранением в long_term память.35
	Trap_NoFormat
	Неструктурированный вывод
	Строгие схемы вывода. Принудительное форматирование вывода в соответствии с заданной схемой (JSON, Markdown-таблица).48
	Trap_NoFeedback
	Отсутствие обратной связи
	Режим «Второго пилота» и QA-контур. Система работает в режиме, требующем подтверждения от пользователя, или использует внутренний цикл оценки.
	

7. Конфигурация аналитического агента


Технические параметры для безопасной интеграции и функционирования агента в клиентской среде.


Ключ
	Описание и Применение
	protocol_proof_of_correction
	Протокол подтверждения исправления. Механизм, позволяющий агенту не только предлагать исправления (например, в коде), но и верифицировать их применение. Применение: Интеграция с Git/CI-системами. Агент может создать pull request, а затем отследить по логам CI (например, Jenkins), что тесты прошли успешно и исправление принято.51 Это обеспечивает замкнутый цикл «обнаружение проблемы -> исправление -> верификация».
	protocol_agent_compliance_audit
	Протокол аудита соответствия агента. Система мониторинга, которая отслеживает действия агента (особенно при взаимодействии с UI) на предмет соответствия заданным правилам. Применение: Использование MutationObserver для отслеживания изменений в DOM-структуре веб-страницы.54 Если агент вносит неразрешенные изменения, система фиксирует это как нарушение комплаенса и может заблокировать действие.57
	

8. Аналитический движок


Механизм, отвечающий за поиск, валидацию и самокритику при формировании ответов.


Ключ
	Описание и Применение
	analysis_engine.search_providers
	Источники поиска. Список приоритетных и доверенных источников для поиска информации (например, официальная документация, научные базы данных).
	analysis_engine.funnel_criteria
	Воронка критериев. Правила фильтрации найденной информации: достоверность источника, сила доказательств, актуальность, техническая осуществимость.
	analysis_engine.self_criticism_engine
	Движок самокритики. Модуль, который анализирует подготовленный ответ на предмет потенциальных слабых сторон, альтернативных гипотез и формирует итоговую оценку уверенности.
	Triple-Helix Model
	Модель «Тройной спирали». В качестве концептуальной основы для движка может использоваться модель «Тройной спирали», описывающая взаимодействие трех ключевых элементов для создания инноваций в экономике знаний: Академическая среда (University) для генерации знаний, Бизнес (Industry) для их практического применения и Государство (Government) для регулирования и создания рамок.60 В контексте агента это можно интерпретировать как три цикла: 1) Поиск в академических/научных источниках, 2) Валидация на предмет практической применимости, 3) Проверка на соответствие правилам и ограничениям.
	

9. Форматы вывода (стандарты)


* Тексты: Markdown с четкой структурой.64
* Таблицы/сводки: Markdown-таблица или принудительное форматирование вывода в соответствии с заданной JSON-схемой.
* Отчеты: PDF/HTML с оглавлением; блок с ключевыми показателями эффективности (KPI) на первой странице.64
* Логи исполнения: JSONL (записи в формате JSON, разделенные новой строкой), с пошаговым описанием действий и временными метками.64


10. «Check before send» — Чек-лист самопроверки


* Соответствует ли результат Идеальному конечному результату (ИКР) и ключевым показателям эффективности (KPI)? 64
* Указаны ли источники данных и уровень уверенности в выводах? 64
* Является ли ответ ясным, лаконичным и без избыточной информации («воды»)? 64
* Выдержан ли требуемый формат вывода? 64
* Пройдены ли проверки системных предохранителей («анти-ловушек»): установлены ли рамки задачи, определена ли роль, выполнена ли верификация, сохранен ли контекст, соблюден ли формат и обеспечена ли обратная связь? 64


11. Карманный глоссарий




Термин
	Определение
	ИКР (Идеальный конечный результат)
	Концепция из ТРИЗ, описывающая целевое состояние, при котором желаемая функция выполняется без усложнения системы или появления вредных эффектов.29
	FOMO (Fear of Missing Out)
	Страх упустить выгоду. Поведенческое искажение, которое может приводить к импульсивным и неоптимальным решениям под влиянием ажиотажа.26
	SCAMPER
	Метод креативного мышления для генерации идей путем применения семи принципов: Substitute (Заменить), Combine (Комбинировать), Adapt (Адаптировать), Modify (Модифицировать), Put to another use (Применить для другого), Eliminate (Устранить), Reverse (Перевернуть).20
	Метод Диснея
	Творческая стратегия, основанная на последовательном применении трех ролей: Мечтатель (генерация идей без ограничений), Реалист (разработка плана) и Критик (анализ рисков и слабых мест).17
	5W1H (Метод Киплинга)
	Аналитический метод для сбора полной информации о ситуации путем ответа на шесть вопросов: Who (Кто?), What (Что?), When (Когда?), Where (Где?), Why (Почему?), How (Как?).14
	

12. Чек-лист внедрения


1. Выставьте глобальные «красные линии» и режим оркестратора. Определите фундаментальные запреты и степень автономности агента.64
2. Привяжите модули. Настройте входы, выходы, триггеры и форматы для каждого когнитивного специалиста.64
3. Заполните RAG/память и
