# **ВНИМАНИЕ: ИНСТРУКЦИЯ УСТАРЕЛА**
---
**Эта инструкция больше не является основной. Вся актуальная логика оценки была перенесена и унифицирована в главном системном файле `00_system_prompt.md`.**

**Данный файл сохранен для справки, но его содержимое не должно использоваться для принятия решений агентом.**

---

# 03_scoring_model_builds.md
# Модель оценки сборок (цельный ПК)

## Общий принцип

Оценка сборки (цельного ПК) — это комплексный анализ, учитывающий как силу отдельных компонентов, так и их синергию. Итоговый балл, как и для компонентов, нормализуется в шкалу 0–1000.

## Подбаллы для оценки сборки

### 1. Обобщенный балл комплектующих (0–10)

Этот подбалл отражает общую производительность и качество компонентов сборки.

**Проблема простого среднего:** обычное среднее арифметическое может скрыть критический недостаток (например, мощная видеокарта и очень слабый блок питания).

**Рекомендуемый метод расчета:**
Вместо среднего арифметического используется **среднее геометрическое** от нормализованных баллов (0–1000) всех ключевых компонентов, масштабированное к диапазону 0–10.

`Промежуточный_балл = (Балл_GPU * Балл_CPU * Балл_RAM * ...)^(1/n)`
`Обобщенный_балл = Промежуточный_балл / 100`

Это позволяет низким оценкам отдельных компонентов сильнее влиять на итоговый результат.

### 2. Баланс / Узкие места (0–10)

Этот подбалл наказывает за дисбаланс конфигурации (например, слабый процессор с мощной видеокартой).

**Метод расчета:**
Рассчитывается через относительное стандартное отклонение нормализованных баллов (0-1000) компонентов. Чем ниже отклонение, тем лучше баланс и выше балл.

1.  `Среднее_арифметическое` баллов компонентов.
2.  `Стандартное_отклонение` баллов компонентов.
3.  `Коэффициент_вариации = Стандартное_отклонение / Среднее_арифметическое`
4.  **Подбалл_Баланс = 10 * (1 - Коэффициент_вариации)** (результат ограничивается диапазоном 0–10).

Если `Коэффициент_вариации` >= 1, подбалл равен 0.

### 3. Цена-эффективность (0–10)

Сравнение цены сборки с суммой рыночных цен на аналогичные комплектующие по отдельности.

- **Сборка дешевле:** высокий подбалл.
- **Сборка заметно дороже:** низкий подбалл.

### 4. Соответствие назначению (0–10)

Учитываются цели пользователя (игры, работа, офис). Проверяется, насколько конфигурация соответствует требованиям (например, достаточен ли GPU для игр в 2K-разрешении, если это было запрошено).

- **Полное соответствие:** высокий подбалл.
- **Несоответствие:** низкий подбалл.

## Итоговый сырой балл сборки

Формула для расчёта сырого балла (в диапазоне от 0 до 10):

**Сырой_балл_сборки = (0.4 * Обобщенный_балл) + (0.3 * Баланс) + (0.2 * Цена-эффективность) + (0.1 * Соответствие назначению)**

*Примечание: Веса были скорректированы, чтобы придать больший вес балансу сборки.*

Далее — нормализация по всем сборкам в выборке до шкалы 0–1000.

## Дополнительные улучшения

- **Списки совместимости:** Проверка совместимости компонентов (сокет CPU, форм-фактор материнской платы и корпуса). Несовместимость должна приводить к значительному штрафу или пометке "не рекомендуется".
- **Штраф за отсутствие критичных компонентов:** Если в сборке нет БП, корпуса или охлаждения, это должно быть явно указано, а итоговый балл — снижен.
- **Перспектива апгрейда:** Дополнительный учёт свободных слотов RAM/M.2 и поддержки будущих поколений CPU.