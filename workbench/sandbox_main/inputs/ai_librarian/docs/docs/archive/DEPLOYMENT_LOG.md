# –ñ—É—Ä–Ω–∞–ª —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è AI Librarian Core

## –î–∞—Ç–∞: 2025-11-22 13:44-13:50 (6 –º–∏–Ω—É—Ç)

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞:**
   - `E:\AI_Librarian_Core\` - –∫–æ—Ä–Ω–µ–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥
   - `data/ollama/` - –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–µ–π Ollama
   - `data/open-webui/` - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ WebUI
   - `library_source/` - –∏—Å—Ö–æ–¥–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (20 —Ñ–∞–π–ª–æ–≤)
   - `config/` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

2. **–°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:**
   - `docker-compose.yaml` - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è Ollama + Open WebUI
   - `Librarian.Modelfile` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–∞-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—è

3. **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã 9 Floor_*.md —Ñ–∞–π–ª–æ–≤ –∏–∑ `E:\AGENTS\librarian-agent\library\`
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã 9 JSON –∏–Ω–¥–µ–∫—Å–æ–≤ + library_index.json + usage_stats.json
   - –ò—Ç–æ–≥–æ: 20 —Ñ–∞–π–ª–æ–≤ –≤ library_source/

4. **–°–æ–∑–¥–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
   - `start.ps1` - –∑–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
   - `stop.ps1` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
   - `restart.ps1` - –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
   - `download_model.ps1` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ Qwen 2.5 32B
   - `logs.ps1` - –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
   - `status.ps1` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã

5. **–ó–∞–ø—É—Å–∫ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:**
   - `librarian_brain` (Ollama): –ø–æ—Ä—Ç 11434 ‚úÖ
   - `librarian_interface` (Open WebUI): –ø–æ—Ä—Ç 3001 ‚úÖ
   - –°—Ç–∞—Ç—É—Å: `Up (healthy)`
   - VRAM: 1621 MB / 16311 MB (10% –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–æ–π)

6. **–°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
   - `README.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
   - `QUICKSTART.md` - —Å–ø–∏—Å–æ–∫ –±—ã—Å—Ç—Ä—ã—Ö –∫–æ–º–∞–Ω–¥
   - `NEXT_STEPS.md` - –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

**–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:**
```
NAME                   STATUS              PORTS
librarian_brain        Up (1 min)          0.0.0.0:11434->11434/tcp
librarian_interface    Up (healthy, 1 min) 0.0.0.0:3001->8080/tcp
```

**API Endpoints:**
- Ollama: http://localhost:11434 ‚úÖ
- Open WebUI: http://localhost:3001 ‚úÖ

**–ú–æ–¥–µ–ª–∏:**
- –ë–∞–∑–æ–≤–∞—è –º–æ–¥–µ–ª—å Qwen 2.5 32B: ‚è≥ –ù–ï –ó–ê–ì–†–£–ñ–ï–ù–ê (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- Embedding –º–æ–¥–µ–ª—å: ‚è≥ –ù–ï –ó–ê–ì–†–£–ñ–ï–ù–ê (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ RAG)

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:**
- –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `E:\AI_Librarian_Core\library_source\`
- –§–∞–π–ª—ã: 20 (9 .md + 11 .json)
- –†–∞–∑–º–µ—Ä: ~7 MB
- –°—Ç–∞—Ç—É—Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏: ‚è≥ –û–∂–∏–¥–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –≤ WebUI

### üéØ –°–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

1. ‚úÖ **–°–î–ï–õ–ê–ù–û:** –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—É—â–µ–Ω–∞
2. ‚è≥ **TODO:** –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ WebUI (http://localhost:3001)
3. ‚è≥ **TODO:** –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ Qwen 2.5 32B (–∫–æ–º–∞–Ω–¥–∞: `.\download_model.ps1`)
4. ‚è≥ **TODO:** –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ "librarian" —á–µ—Ä–µ–∑ WebUI
5. ‚è≥ **TODO:** –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (Documents ‚Üí Upload Files)
6. ‚è≥ **TODO:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞ —Å –∑–∞–ø—Ä–æ—Å–æ–º –∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ

**–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:** –°–º. `NEXT_STEPS.md`

### üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü–æ—Ä—Ç 3000 –±—ã–ª –∑–∞–Ω—è—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º `open-webui`, –ø–æ—ç—Ç–æ–º—É –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç **3001**
- –°—Ç–∞—Ä—ã–π Open WebUI (–ø–æ—Ä—Ç 3000) –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- GPU RTX 5060 Ti 16GB: ~15GB VRAM –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –º–æ–¥–µ–ª–∏
- Qwen 2.5 32B (q4_k_m) –∑–∞–π–º–µ—Ç ~18-20GB (–∫–æ–º–±–∏–Ω–∞—Ü–∏—è VRAM + RAM)
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–∫—Ä—ã—Ç—å –¥—Ä—É–≥–∏–µ GPU-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –º–æ–¥–µ–ª–∏

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Ollama:**
- GPU acceleration: NVIDIA (—á–µ—Ä–µ–∑ nvidia-container-toolkit)
- –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: `./data/ollama:/root/.ollama`
- Restart policy: always

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Open WebUI:**
- RAG Web Search: DuckDuckGo (–≤–∫–ª—é—á–µ–Ω)
- Chunk Size: 1500
- Chunk Overlap: 100
- Embedding Model: nomic-embed-text:latest
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞: –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∫–∞–∫ `/data/library` (read-only)
- –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: `./data/open-webui:/app/backend/data`

**–°–µ—Ç—å:**
- Bridge network: `librarian_network`
- Ollama –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è WebUI –ø–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É DNS: `http://ollama:11434`

### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [x] Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã –∏ healthy
- [x] Ollama API –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã
- [x] Open WebUI –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
- [x] –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ library_source/
- [x] –£—Ç–∏–ª–∏—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞–ø–∏—Å–∞–Ω–∞
- [ ] –ú–æ–¥–µ–ª—å Qwen 2.5 32B –∑–∞–≥—Ä—É–∂–µ–Ω–∞ (—Ç—Ä–µ–±—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- [ ] –ê–≥–µ–Ω—Ç "librarian" —Å–æ–∑–¥–∞–Ω (—Ç—Ä–µ–±—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- [ ] –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ (—Ç—Ä–µ–±—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

### üéâ –°—Ç–∞—Ç—É—Å

**–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã: –ó–ê–í–ï–†–®–ï–ù–û**

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —à–∞–≥–∏ –∏–∑ `NEXT_STEPS.md` –¥–ª—è –ø–æ–ª–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç–∞.

---

## [2025-11-22 14:00-15:30] –§–ê–ó–ê 1: –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –Ø–î–†–ê

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: Qwen 2.5 32B –Ω–µ –≤–ª–µ–∑–∞–µ—Ç –≤ 16GB VRAM

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ú–æ–¥–µ–ª—å: `qwen2.5:32b-instruct-q4_k_m` (19GB –Ω–∞ –¥–∏—Å–∫–µ)
- VRAM —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è: ~18.5 GB
- –î–æ—Å—Ç—É–ø–Ω–æ: RTX 5060 Ti 16GB
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–∏—Å—Ç–µ–º–∞ "–µ–ª–µ —Ç—è–Ω–µ—Ç", –º–µ–¥–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (38+ —Å–µ–∫—É–Ω–¥)

**GPU —Å—Ç–∞—Ç—É—Å:**
- –°–ª–æ–∏: 65/65 (–≤—Å–µ –≤ GPU)
- VRAM: 18.5 GB (–ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CPU fallback)
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –î–µ–≥—Ä–∞–¥–∏—Ä–æ–≤–∞–Ω–∞

### ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Qwen 2.5 14B

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–∫–∞—á–∞–Ω `qwen2.5:14b-instruct-q4_k_m` (9GB)
2. –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π Modelfile: `Librarian_Lite.Modelfile`
3. –ö–æ–º–ø–∏–ª—è—Ü–∏—è: `docker exec librarian_brain ollama create librarian-lite -f /tmp/Librarian_Lite.Modelfile`
4. –£–¥–∞–ª–µ–Ω—ã —Ç—è–∂–µ–ª—ã–µ –º–æ–¥–µ–ª–∏: 3x 32B (–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ 57GB)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ VRAM: 14.3 GB (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 16GB)
- ‚úÖ Headroom: 1.7 GB
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –°—Ç–∞–±–∏–ª—å–Ω–∞—è
- ‚úÖ Model ID: `08f89d335ba1`

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è librarian-lite:**
```dockerfile
FROM qwen2.5:14b-instruct-q4_k_m
PARAMETER temperature 0.3
PARAMETER num_ctx 16384
PARAMETER repeat_penalty 1.15
PARAMETER num_gpu 999

SYSTEM """
–¢–´ ‚Äî AI LIBRARIAN & LOG KEEPER (LITE v2.0).
[...4 –ù–ï–ó–´–ë–õ–ï–ú–´–• –ó–ê–ö–û–ù–ê...]
"""
```

---

## [2025-11-22 15:30-16:00] –§–ê–ó–ê 2: –ù–ê–°–¢–†–û–ô–ö–ê RAG

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –≤ Open WebUI

**–°–∏–º–ø—Ç–æ–º—ã:**
```
'NoneType' object has no attribute 'encode'
```

**Root Cause Analysis:**
–ö–æ–¥: `/app/backend/open_webui/retrieval/utils.py:469`
```python
if embedding_engine == "":  # Empty = sentence-transformers
    return lambda: embedding_function.encode(...)  # None ‚Üí ERROR!
elif embedding_engine == "ollama":
    return lambda: generate_embeddings(engine="ollama", ...)
```

**–ü—Ä–∏—á–∏–Ω–∞:**
Database config: `rag.embedding_engine=""` (empty string) –≤–º–µ—Å—Ç–æ `"ollama"`

### ‚úÖ –†–µ—à–µ–Ω–∏–µ: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ë–î

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–æ–∑–¥–∞–Ω Python-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `webui.db`
2. –û–±–Ω–æ–≤–ª–µ–Ω JSON config: `config.rag.embedding_engine = "ollama"`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: `docker restart librarian_interface`
4. –°–∫–∞—á–∞–Ω embedding model: `nomic-embed-text:latest` (274MB)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –§–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- ‚úÖ Embedding —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Ollama API
- ‚úÖ Vector DB —Å–æ–∑–¥–∞–Ω–∞: `chroma.sqlite3`

### –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

**–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:** 9 Floor_*.md —Ñ–∞–π–ª–æ–≤ (—Ä–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ)

**–î–µ–π—Å—Ç–≤–∏—è:**
Python-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ —Ç–µ–º–∞–º

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- `01_Architecture_Methodology.md` (3.26 MB, 13,610 lines)
- `05_Prompts_Instructions.md` (0.51 MB, 1,722 lines)
- `Uncategorized.md` (3.02 MB, 16,027 lines)
- **–ò—Ç–æ–≥–æ:** 6.8 MB, 31,359 —Å—Ç—Ä–æ–∫

### –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- –í—Ä–µ–º—è: ~8-10 –º–∏–Ω—É—Ç –¥–ª—è 6.8 MB —Ç–µ–∫—Å—Ç–∞
- Vector DB: 169 MB (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä)
- –ü—Ä–æ—Ü–µ—Å—Å—ã: 2 Ollama runners (librarian-lite + nomic-embed-text)
- VRAM –≤–æ –≤—Ä–µ–º—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏: 14.7 GB
- VRAM –ø–æ—Å–ª–µ: ~1-2 GB (–º–æ–¥–µ–ª–∏ –≤—ã–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç)

### ‚úÖ –¢–µ—Å—Ç RAG: –£–°–ü–ï–®–ù–û

**–ó–∞–ø—Ä–æ—Å:** "–ù–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ AI –∞–≥–µ–Ω—Ç–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –¢–†–ò–ó"

**–û—Ç–≤–µ—Ç –∞–≥–µ–Ω—Ç–∞:**
- Retrieved 3 sources ‚úÖ
- –¶–∏—Ç–∏—Ä—É–µ—Ç: `05_Prompts_Instructions.md`, `Uncategorized.md` ‚úÖ
- –£–ø–æ–º–∏–Ω–∞–µ—Ç: LlamaIndex Reflection Agent, –¢–†–ò–ó —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è ‚úÖ
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ ‚úÖ

---

## –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –£–†–û–ö–ò (EXTRACTED KNOWLEDGE)

### –£—Ä–æ–∫ 1: VRAM Management
- 32B –º–æ–¥–µ–ª–∏ —Ç—Ä–µ–±—É—é—Ç 18.5+ GB VRAM (–Ω–µ –≤–ª–µ–∑–∞—é—Ç –≤ 16GB)
- 14B –º–æ–¥–µ–ª–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã –¥–ª—è 16GB GPU (14.3 GB + 1.7GB headroom)
- `num_gpu=999` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç 100% GPU offloading (65/65 —Å–ª–æ–µ–≤)
- `num_ctx=16384` –≤–º–µ—Å—Ç–æ 32768 —ç–∫–æ–Ω–æ–º–∏—Ç ~4GB VRAM

### –£—Ä–æ–∫ 2: RAG Configuration
- Database config –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ environment variables
- Empty string `""` –≤ `embedding_engine` –≤—ã–∑—ã–≤–∞–µ—Ç fallback –Ω–∞ sentence-transformers
- Sentence-transformers —Ç—Ä–µ–±—É–µ—Ç Docker mode (–Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **–†–µ—à–µ–Ω–∏–µ:** –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å `rag.embedding_engine="ollama"` –≤ database JSON

### –£—Ä–æ–∫ 3: Indexing Performance
- 6.8 MB —Ç–µ–∫—Å—Ç–∞ ‚Üí 169 MB vector DB
- –í—Ä–µ–º—è: ~10-15 –º–∏–Ω—É—Ç
- –¢—Ä–µ–±—É–µ—Ç 2 Ollama –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (model + embedding)
- VRAM spike: –¥–æ 14.7 GB (–æ–±–µ –º–æ–¥–µ–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã)
- Auto-unload —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç idle

### –£—Ä–æ–∫ 4: "–°—É—â–Ω–æ—Å—Ç—å –≤–º–µ—Å—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫"
- Modelfile –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç personality –≤ binary (–ø–æ—Ä—Ç–∞–±–µ–ª—å–Ω–æ)
- –ê–≥–µ–Ω—Ç –∏–º–µ–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ terminal, API, WebUI
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç UI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è: `ollama push/pull` –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–∏—Å—Ç–µ–º

---

## –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–° –°–ò–°–¢–ï–ú–´ [2025-11-22 16:00]

**–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:**
- `librarian_brain`: Ollama, –ø–æ—Ä—Ç 11434 (Up ~2 hours)
- `librarian_interface`: Open WebUI, –ø–æ—Ä—Ç 3000 (Up 10 minutes, healthy)

**–ú–æ–¥–µ–ª–∏:**
- `librarian-lite:latest` (9GB, ID: 08f89d335ba1) ‚úÖ
- `qwen2.5:14b-instruct-q4_k_m` (9GB, base) ‚úÖ
- `nomic-embed-text:latest` (274MB) ‚úÖ

**–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π:**
- Vector DB: 169 MB (chroma.sqlite3)
- –§–∞–π–ª–æ–≤: 3 –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö (6.8 MB)
- RAG —Å—Ç–∞—Ç—É—Å: ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ (—Ü–∏—Ç–∏—Ä—É–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∏)

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- VRAM idle: ~1-2 GB
- VRAM active: 14.7 GB (librarian-lite + embedding)
- –ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç: ~38 —Å–µ–∫—É–Ω–¥ (–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏)
- –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ: ~10-15 —Å–µ–∫—É–Ω–¥

---

## –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò: –§–ê–ó–ê 3 ‚Äî –≠–í–û–õ–Æ–¶–ò–Ø –ò –ü–ê–ú–Ø–¢–¨

**–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å –∞–≥–µ–Ω—Ç–∞ —É—á–∏—Ç—å—Å—è –Ω–∞ –æ—à–∏–±–∫–∞—Ö –∏ –≤–µ—Å—Ç–∏ —Ö—Ä–æ–Ω–∏–∫—É –ø—Ä–æ–µ–∫—Ç–∞.

**–ó–∞–¥–∞—á–∏:**
- [x] –°–æ–∑–¥–∞—Ç—å `CORE_MEMORY.md` –¥–ª—è –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –æ–ø—ã—Ç–∞
- [x] –û–±–Ω–æ–≤–∏—Ç—å `DEPLOYMENT_LOG.md` —Å –ø–æ–ª–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π
- [ ] –°–æ–∑–¥–∞—Ç—å `memory_manager.py` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤
- [ ] –¢–µ—Å—Ç: –ê–≥–µ–Ω—Ç —á–∏—Ç–∞–µ—Ç —ç—Ç–æ—Ç –ª–æ–≥ –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É—Ä–æ–∫–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: –ê–≥–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤—ã–≤–æ–¥—ã –≤ `CORE_MEMORY.md`
