# ‚úÖ –≠–í–û–õ–Æ–¶–ò–û–ù–ù–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –†–ê–ó–í–ï–†–ù–£–¢–ê

**–î–∞—Ç–∞:** 22 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** AI LIBRARIAN (EVOLUTIONARY BUILD v1)  
**–°—Ç–∞—Ç—É—Å:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è RTX 5060 Ti 16GB

---

## üéØ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê

### –ü—Ä–æ–±–ª–µ–º–∞
–ú–æ–¥–µ–ª—å qwen2.5:32b –∑–∞–≥—Ä—É–∂–∞–ª–∞—Å—å –≤ **RAM –≤–º–µ—Å—Ç–æ VRAM**:
- **–î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:** 24/65 —Å–ª–æ—ë–≤ –≤ GPU (6.8GB VRAM)
- **–û—Å—Ç–∞–ª—å–Ω–æ–µ –≤ RAM:** 11.7GB (–º–µ–¥–ª–µ–Ω–Ω–æ, –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—É—é –ø–∞–º—è—Ç—å)

### –†–µ—à–µ–Ω–∏–µ
1. **–î–æ–±–∞–≤–∏–ª `PARAMETER num_gpu 999`** –≤ Modelfile
2. **–£–º–µ–Ω—å—à–∏–ª –∫–æ–Ω—Ç–µ–∫—Å—Ç 32768 ‚Üí 16384** (–æ—Å–≤–æ–±–æ–¥–∏–ª 4GB VRAM –¥–ª—è —Å–ª–æ—ë–≤ –º–æ–¥–µ–ª–∏)

### –†–µ–∑—É–ª—å—Ç–∞—Ç
```
load_tensors: offloaded 65/65 layers to GPU
CUDA0 model buffer size = 18508.35 MiB
CPU model buffer size =   417.66 MiB
```

‚úÖ **100% –º–æ–¥–µ–ª–∏ –≤ VRAM** ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏!

---

## üìä –¢–ï–ö–£–©–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### Docker Compose
```yaml
ollama:
  environment:
    - OLLAMA_NUM_GPU=999        # –ú–∞–∫—Å–∏–º—É–º —Å–ª–æ—ë–≤ –≤ GPU
    - OLLAMA_GPU_OVERHEAD=0     # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–∑–µ—Ä–≤
  volumes:
    - ./library_source/CONSOLIDATED_LIBRARY:/data/library:ro  # READ-ONLY
    - ./workspace:/data/workspace:rw                          # READ-WRITE
```

### Modelfile
```dockerfile
FROM qwen2.5:32b-instruct-q4_k_m

PARAMETER temperature 0.4
PARAMETER num_ctx 16384        # –£–º–µ–Ω—å—à–µ–Ω–æ —Å 32768 –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ VRAM
PARAMETER repeat_penalty 1.1
PARAMETER num_gpu 999          # –§–æ—Ä—Å–∏—Ä–æ–≤–∞—Ç—å –º–∞–∫—Å–∏–º—É–º —Å–ª–æ—ë–≤ –≤ GPU

SYSTEM """
–¢–´ ‚Äî AI LIBRARIAN (EVOLUTIONARY BUILD v1).
–¢—ã —É–ø—Ä–∞–≤–ª—è–µ—à—å —Å–≤–æ–µ–π –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π –∏ —É—á–∏—à—å—Å—è.

–¢–í–û–Ø –ê–ù–ê–¢–û–ú–ò–Ø:
1. –ë–ò–ë–õ–ò–û–¢–ï–ö–ê (/data/library): –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∑–Ω–∞–Ω–∏—è (RO)
2. –†–ê–ë–û–ß–ï–ï –ú–ï–°–¢–û (/data/workspace): –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è (RW)
3. –ü–ê–ú–Ø–¢–¨ (/data/workspace/CORE_MEMORY.md): –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å

–ü–†–û–¢–û–ö–û–õ –≠–í–û–õ–Æ–¶–ò–ò:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CORE_MEMORY.md –ø–µ—Ä–µ–¥ –∑–∞–¥–∞—á–µ–π
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞—á—É
3. –ü–†–ï–î–õ–û–ñ–ò–¢–¨ –û–ë–ù–û–í–õ–ï–ù–ò–ï –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –Ω–æ–≤—ã—Ö –Ω–∞—Ö–æ–¥–∫–∞—Ö
"""
```

---

## üß† –≠–í–û–õ–Æ–¶–ò–û–ù–ù–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò

### 1. –í–Ω–µ—à–Ω—è—è –ü–∞–º—è—Ç—å
**–§–∞–π–ª:** `E:\AI_Librarian_Core\workspace\CORE_MEMORY.md`

```markdown
# AI LIBRARIAN CORE MEMORY DUMP
Last Updated: 2025-11-22 14:26:07

## 1. DIRECTIVES EVOLUTION (–≠–≤–æ–ª—é—Ü–∏—è –î–∏—Ä–µ–∫—Ç–∏–≤)
- [INIT] –Ø —Å–æ–∑–¥–∞–Ω. –ú–æ—è —Ü–µ–ª—å ‚Äî –ø–æ—Ä—è–¥–æ–∫.

## 2. KNOWLEDGE GAPS (–ü—Ä–æ–±–µ–ª—ã –≤ –∑–Ω–∞–Ω–∏—è—Ö)
- [ ] –¢—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–π.

## 3. LEARNED PATTERNS (–ò–∑—É—á–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã)
- (–ó–¥–µ—Å—å –∞–≥–µ–Ω—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ª—É—á—à–µ –≤—Å–µ–≥–æ)
```

**–î–æ—Å—Ç—É–ø –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:** `/data/workspace/CORE_MEMORY.md` (RW)

### 2. –†–∞–±–æ—á–µ–µ –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
**–ü—É—Ç—å —Ö–æ—Å—Ç–∞:** `E:\AI_Librarian_Core\workspace\`  
**–ü—É—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:** `/data/workspace/`  
**–ü—Ä–∞–≤–∞:** Read-Write (–∞–≥–µ–Ω—Ç –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª—ã)

### 3. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ó–Ω–∞–Ω–∏–π
**–ü—É—Ç—å —Ö–æ—Å—Ç–∞:** `E:\AI_Librarian_Core\library_source\CONSOLIDATED_LIBRARY\`  
**–ü—É—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:** `/data/library/`  
**–ü—Ä–∞–≤–∞:** Read-Only (–∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è)

**–§–∞–π–ª—ã:**
- `01_Architecture_Methodology.md` (3.3 MB, 13,610 —Å—Ç—Ä–æ–∫)
- `05_Prompts_Instructions.md` (523 KB, 1,722 —Å—Ç—Ä–æ–∫)
- `Uncategorized.md` (3.1 MB, 16,027 —Å—Ç—Ä–æ–∫)

---

## üöÄ –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

### VRAM Utilization
```
GPU: NVIDIA GeForce RTX 5060 Ti 16GB
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ: 15640 MiB / 16311 MiB (95.8%)

–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:
- –ú–æ–¥–µ–ª—å (–≤–µ—Å–∞): 18508 MiB
- KV-–∫—ç—à: ~4096 MiB (num_ctx=16384)
- Overhead: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π
```

### –°–∫–æ—Ä–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- **–ú–æ–¥–µ–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ VRAM** ‚Üí –Ω–µ—Ç swap –≤ RAM
- **–û–∂–∏–¥–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å:** ~15-25 —Ç–æ–∫–µ–Ω–æ–≤/—Å–µ–∫ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç batch size)

### –ö–æ–º–ø—Ä–æ–º–∏—Å—Å—ã
- ‚ùå –ö–æ–Ω—Ç–µ–∫—Å—Ç —É–º–µ–Ω—å—à–µ–Ω: 32768 ‚Üí 16384 —Ç–æ–∫–µ–Ω–æ–≤ (~12,000 —Å–ª–æ–≤)
- ‚úÖ –î–ª—è –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
- ‚úÖ –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –±–æ–ª—å—à–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç ‚Üí —Å–Ω–∏–∑–∏—Ç—å num_ctx –¥–æ 8192 –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 14B –º–æ–¥–µ–ª—å

---

## üîß –£–ü–†–ê–í–õ–ï–ù–ò–ï

### –ó–∞–ø—É—Å–∫/–û—Å—Ç–∞–Ω–æ–≤–∫–∞
```powershell
cd E:\AI_Librarian_Core

# –ó–∞–ø—É—Å–∫
docker-compose up -d

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –°—Ç–∞—Ç—É—Å
docker-compose ps
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ VRAM
```powershell
nvidia-smi
docker exec librarian_brain nvidia-smi
```

### –¢–µ—Å—Ç –∞–≥–µ–Ω—Ç–∞ (—Ç–µ—Ä–º–∏–Ω–∞–ª)
```bash
docker exec -it librarian_brain ollama run librarian-core
```

### –î–æ—Å—Ç—É–ø –∫ Open WebUI
```
URL: http://localhost:3000
–ú–æ–¥–µ–ª—å: librarian-core:latest
```

---

## üìù –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### 1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å Open WebUI –∫ Ollama
- Settings ‚Üí Connections ‚Üí Ollama API: `http://ollama:11434`
- Verify Connection ‚Üí Save

### 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤ RAG
- Workspace ‚Üí Documents ‚Üí Upload Files
- –í—ã–±—Ä–∞—Ç—å 3 —Ñ–∞–π–ª–∞ –∏–∑ `CONSOLIDATED_LIBRARY/`
- Collection: `Library_V1`

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —ç–≤–æ–ª—é—Ü–∏—é
**–ó–∞–ø—Ä–æ—Å:**
```
–ü—Ä–æ–≤–µ—Ä—å, –µ—Å—Ç—å –ª–∏ —É —Ç–µ–±—è –¥–æ—Å—Ç—É–ø –∫ /data/workspace/CORE_MEMORY.md.
–ü—Ä–æ—á–∏—Ç–∞–π –µ—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏.
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ê–≥–µ–Ω—Ç —á–∏—Ç–∞–µ—Ç CORE_MEMORY.md
- –í—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á—É
- –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ CORE_MEMORY –æ —Ç–æ–º, —á—Ç–æ –æ–Ω –Ω–∞—É—á–∏–ª—Å—è —á–∏—Ç–∞—Ç—å —Å–≤–æ—é –ø–∞–º—è—Ç—å

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø

### –ù–µ —Ç—Ä–æ–≥–∞—Ç—å demo_ollama
- –ü–æ—Ä—Ç 11444 –∑–∞–Ω—è—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º Ollama
- `librarian_brain` —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 11434
- **–ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è!**

### VRAM Management
- –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–µ–ª–∏ (`Ctrl+D` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ) VRAM –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –≤ Open WebUI –º–æ–¥–µ–ª—å –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (~10 —Å–µ–∫)
- Unload timeout: 5 –º–∏–Ω—É—Ç –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è

### Backup CORE_MEMORY
```powershell
# –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —ç–≤–æ–ª—é—Ü–∏—é
Copy-Item E:\AI_Librarian_Core\workspace\CORE_MEMORY.md `
  E:\Backups\CORE_MEMORY_$(Get-Date -Format 'yyyyMMdd_HHmm').md
```

---

## üéì –§–ò–õ–û–°–û–§–ò–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–´

### "–°—É—â–Ω–æ—Å—Ç—å –≤–º–µ—Å—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫"
- –õ–∏—á–Ω–æ—Å—Ç—å –∞–≥–µ–Ω—Ç–∞ **—Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ –º–æ–¥–µ–ª—å** (librarian-core)
- –†–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, API, WebUI
- –ü–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π: `ollama push librarian-core`

### "–≠–≤–æ–ª—é—Ü–∏—è —á–µ—Ä–µ–∑ –ø–∞–º—è—Ç—å"
- –û–±—ã—á–Ω–∞—è LLM: Stateless (–∫–∞–∂–¥—ã–π —á–∞—Ç —Å –Ω—É–ª—è)
- –≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π –∞–≥–µ–Ω—Ç: Stateful (CORE_MEMORY.md —Ö—Ä–∞–Ω–∏—Ç –æ–ø—ã—Ç)
- –ê–≥–µ–Ω—Ç –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ —Å–≤–æ–∏—Ö –æ—à–∏–±–∫–∞—Ö –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ. –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã.
