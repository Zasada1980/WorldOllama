СИСТЕМНАЯ СПРАВКА ПРОЕКТА WORLD_OLLAMA

═══════════════════════════════════════════════════════════════════

ОПРЕДЕЛЕНИЕ CORTEX:
Cortex (Кортекс) — это когнитивное ядро системы WORLD_OLLAMA.
Технически Cortex представляет собой сервис LightRAG (GraphRAG), запущенный на порту 8004.
Cortex хранит все знания системы, включая документы ТРИЗ и архитектурные спецификации.
Cortex работает на сервере FastAPI и использует модель qwen2.5:14b-instruct-q4_k_m для обработки запросов.

ТЕХНИЧЕСКИЕ ДЕТАЛИ CORTEX:
- Порт: 8004 (HTTP)
- Технология: LightRAG (Graph-based Retrieval Augmented Generation)
- Модель LLM: qwen2.5:14b-instruct-q4_k_m
- Embedding модель: nomic-embed-text
- Ollama endpoint: http://localhost:11434
- Файл сервера: E:\WORLD_OLLAMA\services\lightrag\lightrag_server.py
- Индекс: E:\WORLD_OLLAMA\services\lightrag\data\
- Режимы поиска: naive, local, global, hybrid

═══════════════════════════════════════════════════════════════════

ОПРЕДЕЛЕНИЕ NEURO-TERMINAL:
Neuro-Terminal — это основной пользовательский интерфейс (UI) системы WORLD_OLLAMA.
Написан на Python с использованием фреймворка Chainlit.
Работает на порту 8501.
Предоставляет Chain-of-Thought визуализацию (Planner → CORTEX Lookup → Response).

ТЕХНИЧЕСКИЕ ДЕТАЛИ NEURO-TERMINAL:
- Порт: 8501 (HTTP)
- Технология: Chainlit 1.1.402
- Файл приложения: E:\WORLD_OLLAMA\services\neuro_terminal\app.py
- Launcher: E:\WORLD_OLLAMA\scripts\start_neuro_terminal.ps1
- Интеграция: Прямой импорт knowledge_client.py (без HTTP overhead)

═══════════════════════════════════════════════════════════════════

АРХИТЕКТУРА СИСТЕМЫ:
Система WORLD_OLLAMA состоит из трёх основных компонентов:

1. АГЕНТ (LLM):
   - Модель: qwen2.5:14b-instruct-q4_k_m
   - Сервис: Ollama
   - Порт: 11434
   - Функция: Обработка запросов пользователя, генерация ответов

2. ПАМЯТЬ (CORTEX):
   - Технология: LightRAG GraphRAG
   - Порт: 8004
   - Функция: Хранение знаний, retrieval документов
   - Индекс: 486 документов (ТРИЗ, архитектура, руководства)

3. КОННЕКТОР (SYNAPSE):
   - Файл: E:\WORLD_OLLAMA\services\connectors\synapse\knowledge_client.py
   - Функция: Связывает Neuro-Terminal с CORTEX
   - Методы: lookup_knowledge(), check_cortex_health(), batch_lookup()

ПОТОК ДАННЫХ:
User → Neuro-Terminal (8501) → Planner (Ollama) → SYNAPSE → CORTEX (8004) → Knowledge → Response

═══════════════════════════════════════════════════════════════════

ОПРЕДЕЛЕНИЕ SYNAPSE:
SYNAPSE (синапс) — это соединительный модуль между пользовательским интерфейсом и когнитивным ядром.
Расположен в E:\WORLD_OLLAMA\services\connectors\synapse\
Файл: knowledge_client.py
ТРИЗ Принцип №24 "Посредник": Устраняет прямую связь между UI и памятью, обеспечивает гибкость архитектуры.

═══════════════════════════════════════════════════════════════════

ОПРЕДЕЛЕНИЕ ТРИЗ:
ТРИЗ (Теория Решения Изобретательских Задач) — методология систематического решения технических задач.
В системе WORLD_OLLAMA хранится 40 документов по ТРИЗ.
ТРИЗ используется для анализа архитектурных решений и принятия инженерных решений.

40 ПРИНЦИПОВ ТРИЗ (краткий список):
1. Дробление
2. Вынесение
3. Местное качество
... (полный список в документах библиотеки)

═══════════════════════════════════════════════════════════════════

ИСТОРИЯ СИСТЕМЫ (ключевые этапы):

ЭТАП 1: CHAOS (хаос)
- Попытки интеграции Open WebUI
- Конфликты зависимостей, нестабильность

ЭТАП 2: TABULA RASA (чистый лист)
- Удаление Open WebUI (ТРИЗ №2 "Вынесение")
- Создание Neuro-Terminal (ТРИЗ №26 "Копирование")
- Упрощение до минимально работающей системы

ЭТАП 3: STABILIZATION (стабилизация)
- Настройка CORTEX (LightRAG)
- Индексация 486 документов
- E2E тестирование (10/10 passed)

ЭТАП 4: SELF-AWARENESS (самосознание)
- Операция "SELF-AWARENESS": копирование системной документации в библиотеку
- Цель: Агент должен знать свою собственную архитектуру
- Статус: В ПРОЦЕССЕ (память не работает корректно)

ЭТАП 5: EVOLUTION (эволюция)
- Операция "GYMNASIUM": попытка внедрения LLaMA-Factory для fine-tuning
- Блокер: PyTorch не поддерживает RTX 5060 Ti (sm_120)
- Статус: ЗАМОРОЖЕНА

═══════════════════════════════════════════════════════════════════

ТЕКУЩАЯ ДАТА: 25 ноября 2025 г.
ВЕРСИЯ СИСТЕМЫ: v3.1 (Neuro-Cognitive Stability)
СТАТУС: ОПЕРАЦИЯ "MNEMONIC REPAIR" - Восстановление памяти

═══════════════════════════════════════════════════════════════════

КРИТИЧЕСКИЕ ПОРТЫ:
- 8501: Neuro-Terminal (UI)
- 8004: CORTEX (LightRAG Knowledge Base)
- 11434: Ollama (LLM qwen2.5:14b)

КРИТИЧЕСКИЕ ДИРЕКТОРИИ:
- E:\WORLD_OLLAMA\services\neuro_terminal\ - Пользовательский интерфейс
- E:\WORLD_OLLAMA\services\lightrag\ - CORTEX сервер
- E:\WORLD_OLLAMA\services\connectors\synapse\ - SYNAPSE коннектор
- E:\WORLD_OLLAMA\workbench\sandbox_main\inputs\data_tray\ - Входящие документы для индексации
- E:\WORLD_OLLAMA\library\raw_documents\ - Проиндексированные документы

КРИТИЧЕСКИЕ СКРИПТЫ:
- start_neuro_terminal.ps1 - Запуск UI
- start_lightrag.ps1 - Запуск CORTEX
- ingest_watcher.ps1 - Автоматическая индексация новых файлов

═══════════════════════════════════════════════════════════════════

ЭТОТ ДОКУМЕНТ СОЗДАН 25.11.2025 В РАМКАХ ОПЕРАЦИИ "MNEMONIC REPAIR".
ЦЕЛЬ: Восстановить способность агента отвечать на вопросы о собственной архитектуре.
