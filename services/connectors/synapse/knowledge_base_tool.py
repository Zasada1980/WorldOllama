"""
Open WebUI Tool: Knowledge Base Lookup (SYNAPSE)
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è CORTEX (LightRAG) –≤ Open WebUI —á–µ—Ä–µ–∑ Native Tools API

–ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –£–°–¢–ê–ù–û–í–ö–ï:
1. –û—Ç–∫—Ä–æ–π—Ç–µ Open WebUI (http://localhost:3100)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Workspace ‚Üí Tools
3. –ù–∞–∂–º–∏—Ç–µ "+ Add Tool"
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–°–Å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞
5. –í—Å—Ç–∞–≤—å—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä Tool Code
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ "Knowledge Base"
7. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –º–æ–¥–µ–ª–∏ qwen2-main

Created: 25.11.2025 (TD-007 NEURAL LINK)
Author: SESA3002a + GitHub Copilot
"""

import requests
import json
from typing import Optional
from pydantic import BaseModel, Field


class Tools:
    """
    Open WebUI Tool Class –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å CORTEX (LightRAG)
    
    –≠—Ç–æ—Ç –∫–ª–∞—Å—Å —Å–ª–µ–¥—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ Open WebUI Tools API:
    - –ú–µ—Ç–æ–¥—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º 'action_' –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
    - Docstring –º–µ—Ç–æ–¥–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
    - Pydantic BaseModel –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    """
    
    class Valves(BaseModel):
        """
        –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è –≤ UI)
        """
        CORTEX_BASE_URL: str = Field(
            default="http://localhost:8004",
            description="Base URL –¥–ª—è CORTEX (LightRAG) —Å–µ—Ä–≤–µ—Ä–∞"
        )
        DEFAULT_TIMEOUT: int = Field(
            default=120,
            description="–¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (LLM generation –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 30-90s)"
        )
        DEFAULT_MODE: str = Field(
            default="hybrid",
            description="–†–µ–∂–∏–º –ø–æ–∏—Å–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (naive/local/global/hybrid)"
        )
    
    def __init__(self):
        self.valves = self.Valves()
    
    def _check_cortex_health(self) -> bool:
        """
        –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ CORTEX
        """
        try:
            response = requests.get(
                f"{self.valves.CORTEX_BASE_URL}/health",
                timeout=5
            )
            if response.status_code == 200:
                health = response.json()
                return health.get("status") == "healthy"
            return False
        except Exception:
            return False
    
    def action_lookup_knowledge(
        self,
        query: str,
        mode: Optional[str] = None
    ) -> str:
        """
        –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞ WORLD_OLLAMA (331 –¥–æ–∫—É–º–µ–Ω—Ç).
        
        –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏,
        –æ—Ç—á–µ—Ç–æ–≤ –ø–æ —Ç–µ–º–∞–º: GPU overclocking (RTX 5060 Ti), SSL certificates, 
        AI agents (LangGraph, CrewAI), –¢–†–ò–ó principles, LightRAG, Project structure.
        
        –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç 1469 —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ 1560 —Å–≤—è–∑–µ–π –≤ –≥—Ä–∞—Ñ–µ –∑–Ω–∞–Ω–∏–π.
        
        Args:
            query (str): –¢–æ—á–Ω—ã–π –∏ –ø–æ–¥—Ä–æ–±–Ω—ã–π –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å. –ë—É–¥—å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã 
                        –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã.
                        –ü—Ä–∏–º–µ—Ä—ã: 
                        - "–ö–∞–∫ —Ä–∞–∑–æ–≥–Ω–∞—Ç—å –ø–∞–º—è—Ç—å RTX 5060 Ti —á–µ—Ä–µ–∑ MSI Afterburner?"
                        - "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ WORLD_OLLAMA"
                        - "–ü—Ä–∏–Ω—Ü–∏–ø—ã –¢–†–ò–ó –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π"
                        - "–°—Ä–∞–≤–Ω–µ–Ω–∏–µ LangGraph –∏ CrewAI"
            
            mode (str, optional): –†–µ–∂–∏–º –ø–æ–∏—Å–∫–∞ –≤ –≥—Ä–∞—Ñ–µ –∑–Ω–∞–Ω–∏–π:
                - "hybrid" (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) - –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫ (30-60s)
                - "local" - –ª–æ–∫–∞–ª—å–Ω—ã–π entity-based –ø–æ–∏—Å–∫ (20-30s)
                - "global" - –≥–ª–æ–±–∞–ª—å–Ω—ã–π –≥—Ä–∞—Ñ-–ø–æ–∏—Å–∫ (30-45s)
                - "naive" - –ø—Ä—è–º–æ–π –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ (10-20s, –º–µ–Ω–µ–µ —Ç–æ—á–Ω–æ)
        
        Returns:
            str: –¢–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π (–æ–±—ã—á–Ω–æ 2000-3000 —Å–∏–º–≤–æ–ª–æ–≤ 
                 –∫–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏)
        """
        # –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        if not query or not query.strip():
            return "‚ùå –û—à–∏–±–∫–∞: Query –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º. –£–∫–∞–∂–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å."
        
        # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ–∂–∏–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        if mode is None:
            mode = self.valves.DEFAULT_MODE
        
        # –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∂–∏–º–∞
        valid_modes = ["naive", "local", "global", "hybrid"]
        if mode not in valid_modes:
            return (
                f"‚ùå –û—à–∏–±–∫–∞: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º '{mode}'. "
                f"–î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: {', '.join(valid_modes)}"
            )
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è CORTEX (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏)
        if not self._check_cortex_health():
            return (
                "‚ùå CORTEX (LightRAG) –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ "
                f"{self.valves.CORTEX_BASE_URL}.\n\n"
                "–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –∫–æ–º–∞–Ω–¥–æ–π:\n"
                "pwsh E:\\WORLD_OLLAMA\\scripts\\start_lightrag.ps1\n\n"
                "–ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: Invoke-RestMethod "
                f"{self.valves.CORTEX_BASE_URL}/health"
            )
        
        # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ CORTEX
        payload = {
            "query": query.strip(),
            "mode": mode
        }
        
        try:
            # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ POST –∑–∞–ø—Ä–æ—Å–∞
            response = requests.post(
                f"{self.valves.CORTEX_BASE_URL}/query",
                json=payload,
                timeout=self.valves.DEFAULT_TIMEOUT
            )
            
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
            response.raise_for_status()
            
            # –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞
            result = response.json()
            answer = result.get("response", "")
            
            if not answer or answer == "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π.":
                return (
                    f"‚ö†Ô∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∑–∞–ø—Ä–æ—Å—É '{query[:50]}...' "
                    "–Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π CORTEX.\n\n"
                    "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ:\n"
                    "‚Ä¢ –ü–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –±–æ–ª–µ–µ –æ–±—â–∏–º–∏ —Ç–µ—Ä–º–∏–Ω–∞–º–∏\n"
                    "‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π —Ä–µ–∂–∏–º –ø–æ–∏—Å–∫–∞ (mode='global' –∏–ª–∏ 'hybrid')\n"
                    "‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –ª–∏ –≤–æ–ø—Ä–æ—Å –∫ —Ç–µ–º–∞–º –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π\n\n"
                    f"–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –ø–æ–∫—Ä—ã–≤–∞–µ—Ç: GPU overclocking, SSL, AI agents, "
                    f"–¢–†–ò–ó, LightRAG, Project docs (331/336 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, 98.5%)"
                )
            
            # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
            detected_lang = result.get("detected_language", "unknown")
            tried_modes = result.get("tried_modes", [mode])
            
            # –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
            response_text = (
                f"üìö **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π CORTEX:**\n\n"
                f"{answer}\n\n"
                f"---\n"
                f"*–ò—Å—Ç–æ—á–Ω–∏–∫: CORTEX (LightRAG) | "
                f"–†–µ–∂–∏–º: {', '.join(tried_modes)} | "
                f"–Ø–∑—ã–∫: {detected_lang} | "
                f"–î–ª–∏–Ω–∞: {len(answer)} —Å–∏–º–≤–æ–ª–æ–≤*"
            )
            
            return response_text
        
        except requests.exceptions.Timeout:
            return (
                f"‚è±Ô∏è –¢–∞–π–º–∞—É—Ç: CORTEX –Ω–µ —É—Å–ø–µ–ª –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–ø—Ä–æ—Å –∑–∞ "
                f"{self.valves.DEFAULT_TIMEOUT}s.\n\n"
                "LightRAG –º–æ–∂–µ—Ç –¥–æ–ª–≥–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã (30-90s) –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.\n\n"
                "–í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:\n"
                "‚Ä¢ –£–≤–µ–ª–∏—á—å—Ç–µ DEFAULT_TIMEOUT –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (Valves)\n"
                "‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º: mode='naive' (10-20s)\n"
                "‚Ä¢ –£–ø—Ä–æ—Å—Ç–∏—Ç–µ –∑–∞–ø—Ä–æ—Å"
            )
        
        except requests.exceptions.ConnectionError:
            return (
                f"‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ CORTEX –Ω–∞ "
                f"{self.valves.CORTEX_BASE_URL}.\n\n"
                "–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω:\n"
                "pwsh E:\\WORLD_OLLAMA\\scripts\\start_lightrag.ps1\n\n"
                "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç: netstat -ano | Select-String ':8004'"
            )
        
        except requests.exceptions.HTTPError as e:
            status_code = e.response.status_code
            error_detail = e.response.text[:200] if e.response.text else "No details"
            return (
                f"‚ùå CORTEX –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É HTTP {status_code}:\n\n"
                f"{error_detail}\n\n"
                "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞: "
                "E:\\WORLD_OLLAMA\\services\\lightrag\\lightrag_server.log"
            )
        
        except Exception as e:
            return (
                f"‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ CORTEX:\n\n"
                f"{str(e)}\n\n"
                "–¢–∏–ø –æ—à–∏–±–∫–∏: {type(e).__name__}"
            )
    
    # –ê–ª–∏–∞—Å –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è–º–∏
    action_search_knowledge = action_lookup_knowledge
    action_query_cortex = action_lookup_knowledge


# ============================================================================
# –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ –í OPEN WEBUI
# ============================================================================
#
# 1. –£–°–¢–ê–ù–û–í–ö–ê –ò–ù–°–¢–†–£–ú–ï–ù–¢–ê:
#    - –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3100
#    - Workspace ‚Üí Tools ‚Üí "+ Add Tool"
#    - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–°–Å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞
#    - Name: "Knowledge Base" (–∏–ª–∏ "CORTEX Lookup")
#    - Description: "Access to WORLD_OLLAMA knowledge base (331 docs)"
#    - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ
#
# 2. –ù–ê–°–¢–†–û–ô–ö–ê VALVES (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
#    - –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
#    - –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
#      * CORTEX_BASE_URL: http://localhost:8004 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
#      * DEFAULT_TIMEOUT: 120 (—Å–µ–∫—É–Ω–¥—ã)
#      * DEFAULT_MODE: hybrid (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
#
# 3. –ê–ö–¢–ò–í–ê–¶–ò–Ø –î–õ–Ø –ú–û–î–ï–õ–ò:
#    - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–∏ qwen2-main
#    - Models ‚Üí qwen2-main ‚Üí Edit
#    - –í–∫–ª—é—á–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç "Knowledge Base" –≤ —Ä–∞–∑–¥–µ–ª–µ Tools
#    - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ
#
# 4. –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –í –ß–ê–¢–ï:
#    User: –†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É WORLD_OLLAMA
#    
#    Assistant: [–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç action_lookup_knowledge]
#    üìö –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π CORTEX:
#    [2000-3000 —Å–∏–º–≤–æ–ª–æ–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞]
#    
#    Assistant: –ù–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ WORLD_OLLAMA...
#
# 5. –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–´:
#    - –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç —Å –º–æ–¥–µ–ª—å—é qwen2-main
#    - –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å: "–ß—Ç–æ —Ç–∞–∫–æ–µ WORLD_OLLAMA?"
#    - –ï—Å–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç, —É–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "üìö –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π"
#    - –ï—Å–ª–∏ –æ—à–∏–±–∫–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
#      a) CORTEX –∑–∞–ø—É—â–µ–Ω: Invoke-RestMethod http://localhost:8004/health
#      b) –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –º–æ–¥–µ–ª–∏
#      c) –õ–æ–≥–∏ Open WebUI: docker logs open-webui (–µ—Å–ª–∏ –≤ Docker)
#
# 6. TROUBLESHOOTING:
#    - "CORTEX –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω" ‚Üí –ó–∞–ø—É—Å—Ç–∏—Ç–µ: pwsh scripts/start_lightrag.ps1
#    - "–¢–∞–π–º–∞—É—Ç" ‚Üí –£–≤–µ–ª–∏—á—å—Ç–µ DEFAULT_TIMEOUT –≤ Valves –¥–æ 180
#    - "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞" ‚Üí –ü–æ–ø—Ä–æ–±—É–π—Ç–µ mode='global' –∏–ª–∏ 'hybrid'
#    - –ú–æ–¥–µ–ª—å –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫—Ç–∏–≤–∞—Ü–∏—é –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –º–æ–¥–µ–ª–∏
#
# ============================================================================
# –ü–†–ò–ú–ï–†–´ –ó–ê–ü–†–û–°–û–í –î–õ–Ø –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø
# ============================================================================
#
# –¢–µ—Å—Ç 1 (–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞):
#   "–ö–∞–∫–æ–≤–∞ —Ñ–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ WORLD_OLLAMA?"
#   –û–∂–∏–¥–∞–µ—Ç—Å—è: –û–ø–∏—Å–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π services/, scripts/, workbench/, ...
#
# –¢–µ—Å—Ç 2 (–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –≤–æ–ø—Ä–æ—Å):
#   "–ö–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ä–∞–∑–æ–≥–Ω–∞—Ç—å –ø–∞–º—è—Ç—å RTX 5060 Ti —á–µ—Ä–µ–∑ MSI Afterburner?"
#   –û–∂–∏–¥–∞–µ—Ç—Å—è: –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Memory Clock, VRAM monitoring
#
# –¢–µ—Å—Ç 3 (–ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω—ã–π):
#   "–í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É LangGraph –∏ CrewAI –¥–ª—è AI –∞–≥–µ–Ω—Ç–æ–≤?"
#   –û–∂–∏–¥–∞–µ—Ç—Å—è: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä, use cases, –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤
#
# –¢–µ—Å—Ç 4 (–¢–†–ò–ó):
#   "–ö–∞–∫–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –¢–†–ò–ó –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π?"
#   –û–∂–∏–¥–∞–µ—Ç—Å—è: –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
#
# ============================================================================
